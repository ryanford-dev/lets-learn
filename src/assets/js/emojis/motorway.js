import { h } from "/assets/js/vendor/hyperapp.js";
import rough from "/assets/js/vendor/rough.js";
import uuid from "/assets/js/vendor/uuid.js";

export default (props = {}) => {
	let proto;
	const new_props = {
		...props,
		key: props.key || uuid(),
		xmlns: "http://www.w3.org/2000/svg",
		viewBox: "-1 -1 37 37",
		width: (props.size || 1) * 16,
		height: (props.size || 1) * 16,
		oncreate: el => {
			const svg = rough.svg(el, {
				options: props.options || {
					roughness: 0.1,
					strokeWidth: 0.2,
					fillStyle: "solid",
				}
			});

			if (proto) {
				el.parentNode.replaceChild(proto.cloneNode(true), el);
			} else {
				el.appendChild(svg["path"]("M36 32s0 4-4 4H4s-4 0-4-4V4c0-4 4-4 4-4h28c4 0 4 4 4 4v28z", {["fill"]: "#88C9F9",["d"]: "M36 32s0 4-4 4H4s-4 0-4-4V4c0-4 4-4 4-4h28c4 0 4 4 4 4v28z",}));el.appendChild(svg["path"]("M0 32c0 4 4 4 4 4h28c4 0 4-4 4-4V19H0v13z", {["fill"]: "#77B255",["d"]: "M0 32c0 4 4 4 4 4h28c4 0 4-4 4-4V19H0v13z",}));el.appendChild(svg["path"]("M31.313 2.678c-.274 0-.539.042-.787.119-.296-.843-1.096-1.449-2.04-1.449-1.013 0-1.86.697-2.096 1.637-.25-.189-.559-.306-.898-.306-.827 0-1.497.67-1.497 1.497 0 .201.041.392.114.567-.144-.04-.292-.068-.446-.068C22.744 4.674 22 5.418 22 6.337 22 7.256 22.744 8 23.663 8h7.65c1.469 0 2.661-1.191 2.661-2.661.001-1.469-1.192-2.661-2.661-2.661z", {["fill"]: "#F5F8FA",["d"]: "M31.313 2.678c-.274 0-.539.042-.787.119-.296-.843-1.096-1.449-2.04-1.449-1.013 0-1.86.697-2.096 1.637-.25-.189-.559-.306-.898-.306-.827 0-1.497.67-1.497 1.497 0 .201.041.392.114.567-.144-.04-.292-.068-.446-.068C22.744 4.674 22 5.418 22 6.337 22 7.256 22.744 8 23.663 8h7.65c1.469 0 2.661-1.191 2.661-2.661.001-1.469-1.192-2.661-2.661-2.661z",}));el.appendChild(svg["path"]("M22.375 19h-8.75L2.263 35.616C3.167 35.995 4 36 4 36h28c.71 0 1.289-.13 1.77-.338L22.375 19z", {["fill"]: "#D99E82",["d"]: "M22.375 19h-8.75L2.263 35.616C3.167 35.995 4 36 4 36h28c.71 0 1.289-.13 1.77-.338L22.375 19z",}));el.appendChild(svg["path"]("M4 36h28L21.375 19h-6.75z", {["fill"]: "#58595B",["d"]: "M4 36h28L21.375 19h-6.75z",}));el.appendChild(svg["path"]("M6.625 36h22.75l-8.75-17h-5.25z", {["fill"]: "#808285",["d"]: "M6.625 36h22.75l-8.75-17h-5.25z",}));el.appendChild(svg["path"]("M24 36h-1l-4-17h.469zm-7-17l-4 17h-1l4.484-17z", {["fill"]: "#CCD6DD",["d"]: "M24 36h-1l-4-17h.469zm-7-17l-4 17h-1l4.484-17z",}));el.appendChild(svg["path"]("M12 33h12v1H12zm0-3h12v1H12zm-.062-2.688h12v1h-12zM13 25h10v1H13zm2-2h6v1h-6zm0-1.688h6V22h-6zm0-1.437h6v.688h-6z", {["fill"]: "#808285",["d"]: "M12 33h12v1H12zm0-3h12v1H12zm-.062-2.688h12v1h-12zM13 25h10v1H13zm2-2h6v1h-6zm0-1.688h6V22h-6zm0-1.437h6v.688h-6z",}));el.appendChild(svg["path"]("M8 21.5c0 .276-.224.5-.5.5s-.5-.224-.5-.5v-11c0-.276.224-.5.5-.5s.5.224.5.5v11zm21 .096c0 .223-.181.404-.404.404h-.191c-.224 0-.405-.181-.405-.404V10.404c0-.223.181-.404.404-.404h.191c.224 0 .405.181.405.404v11.192z", {["fill"]: "#66757F",["d"]: "M8 21.5c0 .276-.224.5-.5.5s-.5-.224-.5-.5v-11c0-.276.224-.5.5-.5s.5.224.5.5v11zm21 .096c0 .223-.181.404-.404.404h-.191c-.224 0-.405-.181-.405-.404V10.404c0-.223.181-.404.404-.404h.191c.224 0 .405.181.405.404v11.192z",}));el.appendChild(svg["path"]("M29 10.5c0 .276-.224.5-.5.5h-21c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h21c.276 0 .5.224.5.5zm0 5.116c0 .212-.172.384-.384.384H7.384C7.172 16 7 15.828 7 15.616v-.232c0-.212.172-.384.384-.384h21.232c.212 0 .384.172.384.384v.232z", {["fill"]: "#66757F",["d"]: "M29 10.5c0 .276-.224.5-.5.5h-21c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h21c.276 0 .5.224.5.5zm0 5.116c0 .212-.172.384-.384.384H7.384C7.172 16 7 15.828 7 15.616v-.232c0-.212.172-.384.384-.384h21.232c.212 0 .384.172.384.384v.232z",}));el.appendChild(svg["path"]("M27 15c0 .552-.447 1-1 1H10c-.552 0-1-.448-1-1v-4c0-.552.448-1 1-1h16c.553 0 1 .448 1 1v4z", {["fill"]: "#5C913B",["d"]: "M27 15c0 .552-.447 1-1 1H10c-.552 0-1-.448-1-1v-4c0-.552.448-1 1-1h16c.553 0 1 .448 1 1v4z",}));el.appendChild(svg["path"]("M13 11h2v2h-2z", {["fill"]: "#A6D488",["d"]: "M13 11h2v2h-2z",}));el.appendChild(svg["path"]("M12 14h4v1h-4z", {["fill"]: "#77B255",["d"]: "M12 14h4v1h-4z",}));el.appendChild(svg["path"]("M21 11h2v2h-2z", {["fill"]: "#A6D488",["d"]: "M21 11h2v2h-2z",}));el.appendChild(svg["path"]("M20 14h4v1h-4z", {["fill"]: "#77B255",["d"]: "M20 14h4v1h-4z",}));
				proto = el;
			}
		},
	};
	delete new_props.options;

	return h("svg", new_props);
};