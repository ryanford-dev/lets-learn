import { h } from "/assets/js/vendor/hyperapp.js";
import rough from "/assets/js/vendor/rough.js";
import uuid from "/assets/js/vendor/uuid.js";

export default (props = {}) => {
	let proto;
	const new_props = {
		...props,
		key: props.key || uuid(),
		xmlns: "http://www.w3.org/2000/svg",
		viewBox: "-1 -1 37 37",
		width: (props.size || 1) * 16,
		height: (props.size || 1) * 16,
		oncreate: el => {
			const svg = rough.svg(el, {
				options: props.options || {
					roughness: 0.1,
					strokeWidth: 0.2,
					fillStyle: "solid",
				}
			});

			if (proto) {
				el.parentNode.replaceChild(proto.cloneNode(true), el);
			} else {
				el.appendChild(svg["path"]("M36 25c0 4-8.059 11-18 11S0 29 0 25C0 6 17 0 18 0s18 6 18 25z", {["fill"]: "#C1694F",["d"]: "M36 25c0 4-8.059 11-18 11S0 29 0 25C0 6 17 0 18 0s18 6 18 25z",}));el.appendChild(svg["path"]("M3.001 29.385c-.05 0-.1-.004-.15-.012-.546-.082-.922-.591-.84-1.137.134-.895 3.43-21.968 15.535-28.127.493-.252 1.094-.054 1.345.438.25.492.054 1.094-.438 1.345C7.267 7.583 4.021 28.325 3.989 28.533c-.075.496-.501.852-.988.852z", {["d"]: "M3.001 29.385c-.05 0-.1-.004-.15-.012-.546-.082-.922-.591-.84-1.137.134-.895 3.43-21.968 15.535-28.127.493-.252 1.094-.054 1.345.438.25.492.054 1.094-.438 1.345C7.267 7.583 4.021 28.325 3.989 28.533c-.075.496-.501.852-.988.852z",["fill"]: "#A95233",}));el.appendChild(svg["path"]("M32.999 29.385c-.486 0-.913-.355-.988-.852-.031-.208-3.277-20.95-14.464-26.642-.492-.251-.688-.853-.438-1.345.25-.492.854-.689 1.344-.438 12.107 6.16 15.401 27.234 15.536 28.128.082.546-.294 1.055-.841 1.137-.049.008-.1.012-.149.012z", {["d"]: "M32.999 29.385c-.486 0-.913-.355-.988-.852-.031-.208-3.277-20.95-14.464-26.642-.492-.251-.688-.853-.438-1.345.25-.492.854-.689 1.344-.438 12.107 6.16 15.401 27.234 15.536 28.128.082.546-.294 1.055-.841 1.137-.049.008-.1.012-.149.012z",["fill"]: "#A95233",}));el.appendChild(svg["path"]("M12.001 33l-.054-.001c-.551-.029-.975-.501-.945-1.052.053-.999 1.356-24.544 6.176-31.516.314-.455.938-.567 1.391-.254.455.314.568.937.254 1.392-4.5 6.508-5.811 30.246-5.824 30.484-.029.534-.47.947-.998.947z", {["d"]: "M12.001 33l-.054-.001c-.551-.029-.975-.501-.945-1.052.053-.999 1.356-24.544 6.176-31.516.314-.455.938-.567 1.391-.254.455.314.568.937.254 1.392-4.5 6.508-5.811 30.246-5.824 30.484-.029.534-.47.947-.998.947z",["fill"]: "#A95233",}));el.appendChild(svg["path"]("M23.999 33c-.527 0-.969-.413-.998-.947-.013-.238-1.324-23.976-5.824-30.484-.314-.454-.2-1.077.254-1.392.456-.314 1.079-.2 1.391.254 4.819 6.972 6.123 30.517 6.177 31.516.029.551-.395 1.021-.946 1.052l-.054.001z", {["d"]: "M23.999 33c-.527 0-.969-.413-.998-.947-.013-.238-1.324-23.976-5.824-30.484-.314-.454-.2-1.077.254-1.392.456-.314 1.079-.2 1.391.254 4.819 6.972 6.123 30.517 6.177 31.516.029.551-.395 1.021-.946 1.052l-.054.001z",["fill"]: "#A95233",}));el.appendChild(svg["path"]("M36 25c0 4-8.059 11-18 11S0 29 0 25c3 4 10 7 18 7s15-3 18-7z", {["fill"]: "#662113",["d"]: "M36 25c0 4-8.059 11-18 11S0 29 0 25c3 4 10 7 18 7s15-3 18-7z",}));
				proto = el;
			}
		},
	};
	delete new_props.options;

	return h("svg", new_props);
};