import { h } from "/assets/js/vendor/hyperapp.js";
import rough from "/assets/js/vendor/rough.js";
import uuid from "/assets/js/vendor/uuid.js";

export default (props = {}) => {
	let proto;
	const new_props = {
		...props,
		key: props.key || uuid(),
		xmlns: "http://www.w3.org/2000/svg",
		viewBox: "-1 -1 37 37",
		width: (props.size || 1) * 16,
		height: (props.size || 1) * 16,
		oncreate: el => {
			const svg = rough.svg(el, {
				options: props.options || {
					roughness: 0.1,
					strokeWidth: 0.2,
					fillStyle: "solid",
				}
			});

			if (proto) {
				el.parentNode.replaceChild(proto.cloneNode(true), el);
			} else {
				el.appendChild(svg["path"]("M33.139 21.464c.719.341.364 1.157 0 1.865-1.755 3.412-11.661 12.123-19.776 12.123C6.259 35.452.5 29.806.5 23.329c0-6.477 7.91-3.098 13.056-6.528 1.715 0 1.865-3.73 19.583 4.663z", {["fill"]: "#BE1931",["d"]: "M33.139 21.464c.719.341.364 1.157 0 1.865-1.755 3.412-11.661 12.123-19.776 12.123C6.259 35.452.5 29.806.5 23.329c0-6.477 7.91-3.098 13.056-6.528 1.715 0 1.865-3.73 19.583 4.663z",}));el.appendChild(svg["path"]("M31.274 21.464c3.129 2.014-11.033 7.027-18.138 7.027C6.032 28.491.5 25.982.5 22.352c0-3.63 5.759-6.573 12.863-6.573 7.105 0 12.316 2.085 17.911 5.685z", {["fill"]: "#7F031E",["d"]: "M31.274 21.464c3.129 2.014-11.033 7.027-18.138 7.027C6.032 28.491.5 25.982.5 22.352c0-3.63 5.759-6.573 12.863-6.573 7.105 0 12.316 2.085 17.911 5.685z",}));el.appendChild(svg["path"]("M29.409 22.396c2.655 1.8-8.492 6.201-16.046 6.201-7.03 0-11.35-2.432-11.35-5.432 0-3 5.082-5.432 11.35-5.432s12.316 2.134 16.046 4.663z", {["fill"]: "#FFAC33",["d"]: "M29.409 22.396c2.655 1.8-8.492 6.201-16.046 6.201-7.03 0-11.35-2.432-11.35-5.432 0-3 5.082-5.432 11.35-5.432s12.316 2.134 16.046 4.663z",}));el.appendChild(svg["path"]("M24.745 24.262c-.418 0-.798-.282-.904-.706-.124-.499.178-1.005.679-1.131 3.698-.925 5.061-1.766 5.849-4.917.125-.5.632-.803 1.131-.679.499.125.803.631.679 1.131-1.107 4.428-3.685 5.393-7.207 6.274-.076.019-.152.028-.227.028z", {["d"]: "M24.745 24.262c-.418 0-.798-.282-.904-.706-.124-.499.178-1.005.679-1.131 3.698-.925 5.061-1.766 5.849-4.917.125-.5.632-.803 1.131-.679.499.125.803.631.679 1.131-1.107 4.428-3.685 5.393-7.207 6.274-.076.019-.152.028-.227.028z",}));el.appendChild(svg["path"]("M26.75 12.119c0 4.296 2.496 5.833 4.375 5.833s4.375-1.538 4.375-5.833c0-4.296-1.944-8.651-4.375-11.567-2.431 2.916-4.375 7.271-4.375 11.567z", {["fill"]: "#F4900C",["d"]: "M26.75 12.119c0 4.296 2.496 5.833 4.375 5.833s4.375-1.538 4.375-5.833c0-4.296-1.944-8.651-4.375-11.567-2.431 2.916-4.375 7.271-4.375 11.567z",}));el.appendChild(svg["ellipse"](31.125, 13.577, 4.862, 8.75, {["rx"]: "2.431",["cy"]: "13.577",["ry"]: "4.375",["fill"]: "#FFCC4D",["cx"]: "31.125",}));el.appendChild(svg["ellipse"](12.167, 22.813, 13.612, 5.834, {["rx"]: "6.806",["cy"]: "22.813",["ry"]: "2.917",["fill"]: "#FFCC4D",["cx"]: "12.167",}));
				proto = el;
			}
		},
	};
	delete new_props.options;

	return h("svg", new_props);
};