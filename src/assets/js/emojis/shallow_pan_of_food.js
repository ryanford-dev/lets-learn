import { h } from "/assets/js/vendor/hyperapp.js";
import rough from "/assets/js/vendor/rough.js";
import uuid from "/assets/js/vendor/uuid.js";

export default (props = {}) => {
	let proto;
	const new_props = {
		...props,
		key: props.key || uuid(),
		xmlns: "http://www.w3.org/2000/svg",
		viewBox: "-1 -1 37 37",
		width: (props.size || 1) * 16,
		height: (props.size || 1) * 16,
		oncreate: el => {
			const svg = rough.svg(el, {
				options: props.options || {
					roughness: 0.1,
					strokeWidth: 0.2,
					fillStyle: "solid",
				}
			});

			if (proto) {
				el.parentNode.replaceChild(proto.cloneNode(true), el);
			} else {
				el.appendChild(svg["path"]("M2.488 33.514c2.41 2.41 5.103 3.627 7.688 1.042 1.835-1.835 1.368-5.277-1.043-7.689-2.411-2.41-5.852-2.877-7.688-1.042-2.585 2.585-1.368 5.277 1.043 7.689zm6.553-6.554c1.808 1.808 2.158 4.39.782 5.767-1.938 1.938-3.958 1.025-5.767-.783-1.809-1.807-2.721-3.826-.782-5.766 1.376-1.376 3.958-1.026 5.767.782zM33.513 2.487c-2.41-2.411-5.102-3.627-7.688-1.042-1.835 1.835-1.368 5.277 1.043 7.688 2.411 2.411 5.851 2.878 7.688 1.042 2.585-2.585 1.368-5.278-1.043-7.688zM26.96 9.04c-1.808-1.808-2.158-4.389-.782-5.766 1.938-1.938 3.958-1.026 5.767.782 1.809 1.808 2.721 3.827.782 5.766-1.376 1.376-3.958 1.026-5.767-.782z", {["fill"]: "#292F33",["d"]: "M2.488 33.514c2.41 2.41 5.103 3.627 7.688 1.042 1.835-1.835 1.368-5.277-1.043-7.689-2.411-2.41-5.852-2.877-7.688-1.042-2.585 2.585-1.368 5.277 1.043 7.689zm6.553-6.554c1.808 1.808 2.158 4.39.782 5.767-1.938 1.938-3.958 1.025-5.767-.783-1.809-1.807-2.721-3.826-.782-5.766 1.376-1.376 3.958-1.026 5.767.782zM33.513 2.487c-2.41-2.411-5.102-3.627-7.688-1.042-1.835 1.835-1.368 5.277 1.043 7.688 2.411 2.411 5.851 2.878 7.688 1.042 2.585-2.585 1.368-5.278-1.043-7.688zM26.96 9.04c-1.808-1.808-2.158-4.389-.782-5.766 1.938-1.938 3.958-1.026 5.767.782 1.809 1.808 2.721 3.827.782 5.766-1.376 1.376-3.958 1.026-5.767-.782z",}));el.appendChild(svg["circle"](18, 18, 34, {["cy"]: "18",["r"]: "17",["fill"]: "#292F33",["cx"]: "18",}));el.appendChild(svg["path"]("M31.6 18c0 7.511-6.089 13.6-13.6 13.6-7.511 0-13.6-6.089-13.6-13.6 0-7.511 6.089-13.6 13.6-13.6 7.511 0 13.6 6.089 13.6 13.6z", {["fill"]: "#FFAC33",["d"]: "M31.6 18c0 7.511-6.089 13.6-13.6 13.6-7.511 0-13.6-6.089-13.6-13.6 0-7.511 6.089-13.6 13.6-13.6 7.511 0 13.6 6.089 13.6 13.6z",}));el.appendChild(svg["path"]("M19.445 10.665l-2.539-2.539c.368-.441.349-1.096-.065-1.511-.439-.439-1.15-.439-1.59 0-.27.27-.372.643-.311.991-.349-.062-.721.042-.991.312-.439.438-.439 1.15 0 1.59.415.415 1.07.433 1.511.064l2.539 2.538 1.446-1.445z", {["fill"]: "#FFE8B6",["d"]: "M19.445 10.665l-2.539-2.539c.368-.441.349-1.096-.065-1.511-.439-.439-1.15-.439-1.59 0-.27.27-.372.643-.311.991-.349-.062-.721.042-.991.312-.439.438-.439 1.15 0 1.59.415.415 1.07.433 1.511.064l2.539 2.538 1.446-1.445z",}));el.appendChild(svg["path"]("M27.669 20.336c.723-.723 2.551-3.826.021-6.356-1.763-1.763-3.184-1.662-5.827-2.317-1.084-.362-2.498-1.665-2.859-2.026-.362.361-.235 1.683-.235 1.683s-1.575.128-1.937.489c.361.361 2.041 1.95 2.335 2.695.79 2.508.7 3.784 2.464 5.546 2.891 2.891 5.316 1.009 6.038.286z", {["fill"]: "#C1694F",["d"]: "M27.669 20.336c.723-.723 2.551-3.826.021-6.356-1.763-1.763-3.184-1.662-5.827-2.317-1.084-.362-2.498-1.665-2.859-2.026-.362.361-.235 1.683-.235 1.683s-1.575.128-1.937.489c.361.361 2.041 1.95 2.335 2.695.79 2.508.7 3.784 2.464 5.546 2.891 2.891 5.316 1.009 6.038.286z",}));el.appendChild(svg["path"]("M9.333 16.5c0 1.933 3.099 3.5 1.167 3.5C8.567 20 7 18.433 7 16.5S8.567 13 10.5 13s-1.167 1.567-1.167 3.5zm8.685 9.49c1.599.771 4.136-1.167 3.364.433-.772 1.601-2.697 2.271-4.296 1.499-1.6-.774-2.271-2.697-1.498-4.297.772-1.6.831 1.593 2.43 2.365z", {["fill"]: "#77B255",["d"]: "M9.333 16.5c0 1.933 3.099 3.5 1.167 3.5C8.567 20 7 18.433 7 16.5S8.567 13 10.5 13s-1.167 1.567-1.167 3.5zm8.685 9.49c1.599.771 4.136-1.167 3.364.433-.772 1.601-2.697 2.271-4.296 1.499-1.6-.774-2.271-2.697-1.498-4.297.772-1.6.831 1.593 2.43 2.365z",}));el.appendChild(svg["circle"](15, 17, 4, {["cy"]: "17",["r"]: "2",["fill"]: "#F4900C",["cx"]: "15",}));el.appendChild(svg["circle"](24, 24, 2, {["cy"]: "24",["r"]: "1",["fill"]: "#F4900C",["cx"]: "24",}));el.appendChild(svg["circle"](11, 23, 2, {["cy"]: "23",["r"]: "1",["fill"]: "#F4900C",["cx"]: "11",}));
				proto = el;
			}
		},
	};
	delete new_props.options;

	return h("svg", new_props);
};