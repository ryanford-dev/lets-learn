import { h } from "/assets/js/vendor/hyperapp.js";
import rough from "/assets/js/vendor/rough.js";
import uuid from "/assets/js/vendor/uuid.js";

export default (props = {}) => {
	let proto;
	const new_props = {
		...props,
		key: props.key || uuid(),
		xmlns: "http://www.w3.org/2000/svg",
		viewBox: "-1 -1 37 37",
		width: (props.size || 1) * 16,
		height: (props.size || 1) * 16,
		oncreate: el => {
			const svg = rough.svg(el, {
				options: props.options || {
					roughness: 0.1,
					strokeWidth: 0.2,
					fillStyle: "solid",
				}
			});

			if (proto) {
				el.parentNode.replaceChild(proto.cloneNode(true), el);
			} else {
				el.appendChild(svg["path"]("M15.438 22v-3h5v3h1.861v6h-9v-6z", {["fill"]: "#FFDC5D",["d"]: "M15.438 22v-3h5v3h1.861v6h-9v-6z",}));el.appendChild(svg["path"]("M25.472 22h-5L18 25.778 15.438 22H9.472c-1.779 0-1.945 1.193-1.945 2.973V36h20.945V24.973c0-1.973-1-2.973-3-2.973z", {["fill"]: "#3B93D9",["d"]: "M25.472 22h-5L18 25.778 15.438 22H9.472c-1.779 0-1.945 1.193-1.945 2.973V36h20.945V24.973c0-1.973-1-2.973-3-2.973z",}));el.appendChild(svg["path"]("M23.486 26h1.028v10h-1.028zm-12 0h1.028v10h-1.028z", {["fill"]: "#1B6399",["d"]: "M23.486 26h1.028v10h-1.028zm-12 0h1.028v10h-1.028z",}));el.appendChild(svg["path"]("M25.438 14V5l-15-1v10h.024c.252 3.89 3.498 6.969 7.476 6.969 3.806 0 6.957-2.822 7.443-6.473.022-.165.046-.329.057-.496z", {["fill"]: "#FFDC5D",["d"]: "M25.438 14V5l-15-1v10h.024c.252 3.89 3.498 6.969 7.476 6.969 3.806 0 6.957-2.822 7.443-6.473.022-.165.046-.329.057-.496z",}));el.appendChild(svg["path"]("M25.381 14.495c1.197-1.511 1.917-3.418 1.917-5.495 0-4.893-3.967-8.861-8.861-8.861-1.328 0-2.582.301-3.713.825.11-.007.379-.013.517-.017-3.916.032-7.082 3.213-7.082 7.137 0 2.058.884 3.898 2.278 5.199V10c6.07 0 9.549-2.576 11.356-4.603.491 1.542 1.565 3.883 3.644 4.466V14c-.01.167-.034.331-.056.495z", {["fill"]: "#FFAC33",["d"]: "M25.381 14.495c1.197-1.511 1.917-3.418 1.917-5.495 0-4.893-3.967-8.861-8.861-8.861-1.328 0-2.582.301-3.713.825.11-.007.379-.013.517-.017-3.916.032-7.082 3.213-7.082 7.137 0 2.058.884 3.898 2.278 5.199V10c6.07 0 9.549-2.576 11.356-4.603.491 1.542 1.565 3.883 3.644 4.466V14c-.01.167-.034.331-.056.495z",}));el.appendChild(svg["path"]("M21.16 17.723h-6.444s.805 1.61 3.222 1.61 3.222-1.61 3.222-1.61zM18.438 15.5h-1c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h1c.276 0 .5.224.5.5s-.224.5-.5.5z", {["fill"]: "#BF6952",["d"]: "M21.16 17.723h-6.444s.805 1.61 3.222 1.61 3.222-1.61 3.222-1.61zM18.438 15.5h-1c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h1c.276 0 .5.224.5.5s-.224.5-.5.5z",}));el.appendChild(svg["path"]("M14.438 13c-.552 0-1-.448-1-1v-1c0-.552.448-1 1-1s1 .448 1 1v1c0 .552-.448 1-1 1zm7 0c-.552 0-1-.448-1-1v-1c0-.552.448-1 1-1s1 .448 1 1v1c0 .552-.448 1-1 1z", {["fill"]: "#662113",["d"]: "M14.438 13c-.552 0-1-.448-1-1v-1c0-.552.448-1 1-1s1 .448 1 1v1c0 .552-.448 1-1 1zm7 0c-.552 0-1-.448-1-1v-1c0-.552.448-1 1-1s1 .448 1 1v1c0 .552-.448 1-1 1z",}));el.appendChild(svg["path"]("M28.998 34v-3h-4v3h-1v2h6v-2z", {["fill"]: "#FFDC5D",["d"]: "M28.998 34v-3h-4v3h-1v2h6v-2z",}));el.appendChild(svg["path"]("M24.998 33h-2c-2.493 0-4.276 1.385-4.814 3h17.632c-.517-1.602-2.159-3-3.818-3h-3l-.466.466L26.998 35l-2-2z", {["fill"]: "#88C9F9",["d"]: "M24.998 33h-2c-2.493 0-4.276 1.385-4.814 3h17.632c-.517-1.602-2.159-3-3.818-3h-3l-.466.466L26.998 35l-2-2z",}));el.appendChild(svg["path"]("M32.993 27.04l-.002-.04h.007v-4.286l-4.286-.857-7.714.857V27H21l-.002.04c0 .644.106 1.263.296 1.844.782 2.388 3.038 4.116 5.702 4.116 2.659 0 4.911-1.722 5.697-4.103.192-.585.3-1.208.3-1.857z", {["fill"]: "#FFDC5D",["d"]: "M32.993 27.04l-.002-.04h.007v-4.286l-4.286-.857-7.714.857V27H21l-.002.04c0 .644.106 1.263.296 1.844.782 2.388 3.038 4.116 5.702 4.116 2.659 0 4.911-1.722 5.697-4.103.192-.585.3-1.208.3-1.857z",}));el.appendChild(svg["path"]("M33.998 25.125c0-3.383-2.742-6.125-6.125-6.125-.298 0-.588.029-.875.07-.286-.041-.577-.07-.875-.07-3.383 0-6.125 2.742-6.125 6.125 0 1.418.487 2.721 1.296 3.759-.19-.581-.296-1.2-.296-1.844L21 27h-.002v-1.911c4.172-.181 6.588-1.592 7.929-2.91.91 1.074 2.351 2.414 4.071 2.816V27h-.007l.002.04c0 .649-.108 1.272-.301 1.857.816-1.04 1.306-2.348 1.306-3.772z", {["fill"]: "#F4900C",["d"]: "M33.998 25.125c0-3.383-2.742-6.125-6.125-6.125-.298 0-.588.029-.875.07-.286-.041-.577-.07-.875-.07-3.383 0-6.125 2.742-6.125 6.125 0 1.418.487 2.721 1.296 3.759-.19-.581-.296-1.2-.296-1.844L21 27h-.002v-1.911c4.172-.181 6.588-1.592 7.929-2.91.91 1.074 2.351 2.414 4.071 2.816V27h-.007l.002.04c0 .649-.108 1.272-.301 1.857.816-1.04 1.306-2.348 1.306-3.772z",}));el.appendChild(svg["path"]("M28.998 30h-4s.389 1.333 2 1.333 2-1.333 2-1.333zm-2-.5c-.13 0-.26-.05-.35-.15-.1-.09-.15-.22-.15-.35s.05-.26.15-.36c.17-.17.52-.18.71.01.09.091.14.221.14.351s-.05.26-.15.35c-.09.099-.22.149-.35.149z", {["fill"]: "#BF6952",["d"]: "M28.998 30h-4s.389 1.333 2 1.333 2-1.333 2-1.333zm-2-.5c-.13 0-.26-.05-.35-.15-.1-.09-.15-.22-.15-.35s.05-.26.15-.36c.17-.17.52-.18.71.01.09.091.14.221.14.351s-.05.26-.15.35c-.09.099-.22.149-.35.149z",}));el.appendChild(svg["path"]("M28.998 28c-.461 0-.833-.373-.833-.833v-.833c0-.461.373-.833.833-.833.461 0 .833.373.833.833v.833c.001.46-.372.833-.833.833zm-4 0c-.461 0-.833-.373-.833-.833v-.833c0-.461.373-.833.833-.833.461 0 .833.373.833.833v.833c.001.46-.372.833-.833.833z", {["fill"]: "#662113",["d"]: "M28.998 28c-.461 0-.833-.373-.833-.833v-.833c0-.461.373-.833.833-.833.461 0 .833.373.833.833v.833c.001.46-.372.833-.833.833zm-4 0c-.461 0-.833-.373-.833-.833v-.833c0-.461.373-.833.833-.833.461 0 .833.373.833.833v.833c.001.46-.372.833-.833.833z",}));el.appendChild(svg["path"]("M10.998 34v-3h-4v3h-1v2h6v-2z", {["fill"]: "#FFDC5D",["d"]: "M10.998 34v-3h-4v3h-1v2h6v-2z",}));el.appendChild(svg["path"]("M6.998 33h-2C2.505 33 .722 34.385.184 36h17.632c-.517-1.602-2.159-3-3.818-3h-3l-.466.466L8.998 35l-2-2z", {["fill"]: "#88C9F9",["d"]: "M6.998 33h-2C2.505 33 .722 34.385.184 36h17.632c-.517-1.602-2.159-3-3.818-3h-3l-.466.466L8.998 35l-2-2z",}));el.appendChild(svg["path"]("M14.993 27.04l-.002-.04h.007v-4.286l-4.286-.857-7.714.857V27H3l-.002.04c0 .644.106 1.263.296 1.844C4.076 31.272 6.332 33 8.996 33c2.659 0 4.911-1.722 5.697-4.103.192-.585.3-1.208.3-1.857z", {["fill"]: "#FFDC5D",["d"]: "M14.993 27.04l-.002-.04h.007v-4.286l-4.286-.857-7.714.857V27H3l-.002.04c0 .644.106 1.263.296 1.844C4.076 31.272 6.332 33 8.996 33c2.659 0 4.911-1.722 5.697-4.103.192-.585.3-1.208.3-1.857z",}));el.appendChild(svg["path"]("M15.998 25.125c0-3.383-2.742-6.125-6.125-6.125-.298 0-.588.029-.875.07-.286-.041-.577-.07-.875-.07-3.383 0-6.125 2.742-6.125 6.125 0 1.418.487 2.721 1.296 3.759-.19-.581-.296-1.2-.296-1.844L3 27h-.002v-1.911c4.172-.181 6.588-1.592 7.929-2.91.91 1.074 2.351 2.414 4.071 2.816V27h-.007l.002.04c0 .649-.108 1.272-.301 1.857.816-1.04 1.306-2.348 1.306-3.772z", {["fill"]: "#F4900C",["d"]: "M15.998 25.125c0-3.383-2.742-6.125-6.125-6.125-.298 0-.588.029-.875.07-.286-.041-.577-.07-.875-.07-3.383 0-6.125 2.742-6.125 6.125 0 1.418.487 2.721 1.296 3.759-.19-.581-.296-1.2-.296-1.844L3 27h-.002v-1.911c4.172-.181 6.588-1.592 7.929-2.91.91 1.074 2.351 2.414 4.071 2.816V27h-.007l.002.04c0 .649-.108 1.272-.301 1.857.816-1.04 1.306-2.348 1.306-3.772z",}));el.appendChild(svg["path"]("M10.998 30h-4s.389 1.333 2 1.333 2-1.333 2-1.333zm-2-.5c-.13 0-.26-.05-.35-.15-.1-.09-.15-.22-.15-.35s.05-.26.15-.36c.17-.17.52-.18.71.01.09.091.14.221.14.351s-.05.26-.15.35c-.09.099-.22.149-.35.149z", {["fill"]: "#BF6952",["d"]: "M10.998 30h-4s.389 1.333 2 1.333 2-1.333 2-1.333zm-2-.5c-.13 0-.26-.05-.35-.15-.1-.09-.15-.22-.15-.35s.05-.26.15-.36c.17-.17.52-.18.71.01.09.091.14.221.14.351s-.05.26-.15.35c-.09.099-.22.149-.35.149z",}));el.appendChild(svg["path"]("M10.998 28c-.461 0-.833-.373-.833-.833v-.833c0-.461.373-.833.833-.833.461 0 .833.373.833.833v.833c.001.46-.372.833-.833.833zm-4 0c-.461 0-.833-.373-.833-.833v-.833c0-.461.373-.833.833-.833.461 0 .833.373.833.833v.833c.001.46-.372.833-.833.833z", {["fill"]: "#662113",["d"]: "M10.998 28c-.461 0-.833-.373-.833-.833v-.833c0-.461.373-.833.833-.833.461 0 .833.373.833.833v.833c.001.46-.372.833-.833.833zm-4 0c-.461 0-.833-.373-.833-.833v-.833c0-.461.373-.833.833-.833.461 0 .833.373.833.833v.833c.001.46-.372.833-.833.833z",}));
				proto = el;
			}
		},
	};
	delete new_props.options;

	return h("svg", new_props);
};