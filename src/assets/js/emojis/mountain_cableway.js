import { h } from "/assets/js/vendor/hyperapp.js";
import rough from "/assets/js/vendor/rough.js";
import uuid from "/assets/js/vendor/uuid.js";

export default (props = {}) => {
	let proto;
	const new_props = {
		...props,
		key: props.key || uuid(),
		xmlns: "http://www.w3.org/2000/svg",
		viewBox: "-1 -1 37 37",
		width: (props.size || 1) * 16,
		height: (props.size || 1) * 16,
		oncreate: el => {
			const svg = rough.svg(el, {
				options: props.options || {
					roughness: 0.1,
					strokeWidth: 0.2,
					fillStyle: "solid",
				}
			});

			if (proto) {
				el.parentNode.replaceChild(proto.cloneNode(true), el);
			} else {
				el.appendChild(svg["path"]("M19 12V5h-2v7h-5v5h12v-5z", {["fill"]: "#58595B",["d"]: "M19 12V5h-2v7h-5v5h12v-5z",}));el.appendChild(svg["path"]("M34 28V18c0-2.209-1.791-4-4-4H6c-2.209 0-4 1.791-4 4v10h32z", {["fill"]: "#FFD983",["d"]: "M34 28V18c0-2.209-1.791-4-4-4H6c-2.209 0-4 1.791-4 4v10h32z",}));el.appendChild(svg["path"]("M2 22v6c0 4.418 3.582 8 8 8h16c4.418 0 8-3.582 8-8v-6H2z", {["fill"]: "#269",["d"]: "M2 22v6c0 4.418 3.582 8 8 8h16c4.418 0 8-3.582 8-8v-6H2z",}));el.appendChild(svg["path"]("M2 18h6v9H2zm8 0h7v9h-7zm9 0h7v9h-7zm9 0h6v9h-6z", {["fill"]: "#88C9F9",["d"]: "M2 18h6v9H2zm8 0h7v9h-7zm9 0h7v9h-7zm9 0h6v9h-6z",}));el.appendChild(svg["path"]("M33.213 10.977L3.27 2.954c-.533-.144-.85-.691-.707-1.226.143-.533.691-.85 1.225-.707L33.73 9.045c.534.144.851.691.707 1.225-.142.534-.69.851-1.224.707z", {["fill"]: "#6D6E71",["d"]: "M33.213 10.977L3.27 2.954c-.533-.144-.85-.691-.707-1.226.143-.533.691-.85 1.225-.707L33.73 9.045c.534.144.851.691.707 1.225-.142.534-.69.851-1.224.707z",}));el.appendChild(svg["path"]("M23.348 4.361l-1.933-.518.259-.965-5.795-1.553-.259.966-1.932-.518c-1.067-.285-2.164.348-2.45 1.415-.286 1.066.348 2.163 1.414 2.449l9.66 2.588c1.066.286 2.163-.348 2.449-1.414.286-1.066-.347-2.164-1.413-2.45z", {["fill"]: "#A7A9AC",["d"]: "M23.348 4.361l-1.933-.518.259-.965-5.795-1.553-.259.966-1.932-.518c-1.067-.285-2.164.348-2.45 1.415-.286 1.066.348 2.163 1.414 2.449l9.66 2.588c1.066.286 2.163-.348 2.449-1.414.286-1.066-.347-2.164-1.413-2.45z",}));el.appendChild(svg["path"]("M13.877 4.931c-.286 1.066-1.383 1.7-2.45 1.414-1.066-.286-1.7-1.383-1.414-2.449.286-1.067 1.383-1.7 2.449-1.415 1.068.286 1.701 1.382 1.415 2.45zm11.592 3.105c-.286 1.067-1.383 1.7-2.449 1.414-1.067-.286-1.7-1.382-1.414-2.449.285-1.067 1.382-1.7 2.449-1.414 1.066.286 1.7 1.383 1.414 2.449z", {["fill"]: "#808285",["d"]: "M13.877 4.931c-.286 1.066-1.383 1.7-2.45 1.414-1.066-.286-1.7-1.383-1.414-2.449.286-1.067 1.383-1.7 2.449-1.415 1.068.286 1.701 1.382 1.415 2.45zm11.592 3.105c-.286 1.067-1.383 1.7-2.449 1.414-1.067-.286-1.7-1.382-1.414-2.449.285-1.067 1.382-1.7 2.449-1.414 1.066.286 1.7 1.383 1.414 2.449z",}));el.appendChild(svg["path"]("M2 18h6v2H2zm8 0h7v2h-7zm9 0h7v2h-7zm9 0h6v2h-6z", {["fill"]: "#55ACEE",["d"]: "M2 18h6v2H2zm8 0h7v2h-7zm9 0h7v2h-7zm9 0h6v2h-6z",}));
				proto = el;
			}
		},
	};
	delete new_props.options;

	return h("svg", new_props);
};