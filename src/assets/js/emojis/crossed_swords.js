import { h } from "/assets/js/vendor/hyperapp.js";
import rough from "/assets/js/vendor/rough.js";
import uuid from "/assets/js/vendor/uuid.js";

export default (props = {}) => {
	let proto;
	const new_props = {
		...props,
		key: props.key || uuid(),
		xmlns: "http://www.w3.org/2000/svg",
		viewBox: "-1 -1 37 37",
		width: (props.size || 1) * 16,
		height: (props.size || 1) * 16,
		oncreate: el => {
			const svg = rough.svg(el, {
				options: props.options || {
					roughness: 0.1,
					strokeWidth: 0.2,
					fillStyle: "solid",
				}
			});

			if (proto) {
				el.parentNode.replaceChild(proto.cloneNode(true), el);
			} else {
				el.appendChild(svg["path"]("M24 29l5-5L6 1H1v5z", {["fill"]: "#CCD6DD",["d"]: "M24 29l5-5L6 1H1v5z",}));el.appendChild(svg["path"]("M1 1v5l23 23 2.5-2.5z", {["fill"]: "#9AAAB4",["d"]: "M1 1v5l23 23 2.5-2.5z",}));el.appendChild(svg["path"]("M32.143 34.028c.781.781 2.667-1.104 1.886-1.886l-5.186-6.128c-.78-.781-1.837-.992-2.357-.472l-.943.942c-.521.521-.31 1.576.472 2.357l6.128 5.187z", {["fill"]: "#642116",["d"]: "M32.143 34.028c.781.781 2.667-1.104 1.886-1.886l-5.186-6.128c-.78-.781-1.837-.992-2.357-.472l-.943.942c-.521.521-.31 1.576.472 2.357l6.128 5.187z",}));el.appendChild(svg["path"]("M22.479 30.257c.586.586 1.536.586 2.121 0l5.658-5.656c.586-.586.585-1.536 0-2.122-.586-.585-1.536-.586-2.122 0l-5.657 5.657c-.585.586-.585 1.536 0 2.121z", {["fill"]: "#BF6952",["d"]: "M22.479 30.257c.586.586 1.536.586 2.121 0l5.658-5.656c.586-.586.585-1.536 0-2.122-.586-.585-1.536-.586-2.122 0l-5.657 5.657c-.585.586-.585 1.536 0 2.121z",}));el.appendChild(svg["path"]("M31.318 35.561c.585.586 1.535.586 2.121 0l2.121-2.121c.586-.586.586-1.536 0-2.122-.586-.585-1.535-.586-2.121 0l-2.121 2.122c-.586.584-.586 1.535 0 2.121z", {["fill"]: "#FCAB40",["d"]: "M31.318 35.561c.585.586 1.535.586 2.121 0l2.121-2.121c.586-.586.586-1.536 0-2.122-.586-.585-1.535-.586-2.121 0l-2.121 2.122c-.586.584-.586 1.535 0 2.121z",}));el.appendChild(svg["path"]("M12 29l-5-5L30 1h5v5z", {["fill"]: "#CCD6DD",["d"]: "M12 29l-5-5L30 1h5v5z",}));el.appendChild(svg["path"]("M12 29L35 6V1L9.5 26.5z", {["fill"]: "#9AAAB4",["d"]: "M12 29L35 6V1L9.5 26.5z",}));el.appendChild(svg["path"]("M3.857 34.028c-.781.781-2.667-1.104-1.886-1.886l5.186-6.128c.781-.781 1.836-.992 2.357-.472l.942.942c.521.521.31 1.576-.471 2.357l-6.128 5.187z", {["fill"]: "#642116",["d"]: "M3.857 34.028c-.781.781-2.667-1.104-1.886-1.886l5.186-6.128c.781-.781 1.836-.992 2.357-.472l.942.942c.521.521.31 1.576-.471 2.357l-6.128 5.187z",}));el.appendChild(svg["path"]("M13.521 30.257c-.585.586-1.536.586-2.121 0l-5.657-5.656c-.586-.586-.585-1.536 0-2.122.586-.585 1.536-.586 2.122 0l5.657 5.657c.584.586.584 1.536-.001 2.121z", {["fill"]: "#BF6952",["d"]: "M13.521 30.257c-.585.586-1.536.586-2.121 0l-5.657-5.656c-.586-.586-.585-1.536 0-2.122.586-.585 1.536-.586 2.122 0l5.657 5.657c.584.586.584 1.536-.001 2.121z",}));el.appendChild(svg["path"]("M4.682 35.561c-.585.586-1.536.586-2.121 0L.439 33.44c-.586-.586-.585-1.536 0-2.122.585-.585 1.536-.586 2.122 0l2.121 2.122c.586.584.586 1.535 0 2.121z", {["fill"]: "#FCAB40",["d"]: "M4.682 35.561c-.585.586-1.536.586-2.121 0L.439 33.44c-.586-.586-.585-1.536 0-2.122.585-.585 1.536-.586 2.122 0l2.121 2.122c.586.584.586 1.535 0 2.121z",}));
				proto = el;
			}
		},
	};
	delete new_props.options;

	return h("svg", new_props);
};