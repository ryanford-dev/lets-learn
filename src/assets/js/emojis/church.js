import { h } from "/assets/js/vendor/hyperapp.js";
import rough from "/assets/js/vendor/rough.js";
import uuid from "/assets/js/vendor/uuid.js";

export default (props = {}) => {
	let proto;
	const new_props = {
		...props,
		key: props.key || uuid(),
		xmlns: "http://www.w3.org/2000/svg",
		viewBox: "-1 -1 37 37",
		width: (props.size || 1) * 16,
		height: (props.size || 1) * 16,
		oncreate: el => {
			const svg = rough.svg(el, {
				options: props.options || {
					roughness: 0.1,
					strokeWidth: 0.2,
					fillStyle: "solid",
				}
			});

			if (proto) {
				el.parentNode.replaceChild(proto.cloneNode(true), el);
			} else {
				el.appendChild(svg["path"]("M20 2h-1V1c0-.552-.447-1-1-1s-1 .448-1 1v1h-1c-.553 0-1 .448-1 1s.447 1 1 1h1v6c0 .552.447 1 1 1s1-.448 1-1V4h1c.553 0 1-.448 1-1s-.447-1-1-1z", {["fill"]: "#BCBEC0",["d"]: "M20 2h-1V1c0-.552-.447-1-1-1s-1 .448-1 1v1h-1c-.553 0-1 .448-1 1s.447 1 1 1h1v6c0 .552.447 1 1 1s1-.448 1-1V4h1c.553 0 1-.448 1-1s-.447-1-1-1z",}));el.appendChild(svg["path"]("M18 9l-5.143 4H13v9h10v-9h.143z", {["fill"]: "#FFD983",["d"]: "M18 9l-5.143 4H13v9h10v-9h.143z",}));el.appendChild(svg["path"]("M19.999 15c0-1.104-.896-2-1.999-2-1.105 0-2 .896-2 2v7h4l-.001-7z", {["fill"]: "#662113",["d"]: "M19.999 15c0-1.104-.896-2-1.999-2-1.105 0-2 .896-2 2v7h4l-.001-7z",}));el.appendChild(svg["path"]("M17.999 18L4 26v9c0 .553.448 1 1 1h26c.553 0 1-.447 1-1v-9l-14.001-8z", {["fill"]: "#FFD983",["d"]: "M17.999 18L4 26v9c0 .553.448 1 1 1h26c.553 0 1-.447 1-1v-9l-14.001-8z",}));el.appendChild(svg["path"]("M31.998 27c-.168 0-.339-.042-.495-.132l-13.504-7.717-13.504 7.717c-.478.276-1.09.107-1.364-.372s-.107-1.09.372-1.364l14-8c.308-.176.685-.176.992 0l14 8c.48.274.647.885.372 1.364-.184.323-.521.504-.869.504zm-8.999-13c-.219 0-.439-.072-.624-.219l-4.376-3.5-4.374 3.5c-.432.343-1.061.275-1.406-.156-.345-.432-.275-1.061.156-1.406l4.999-4c.365-.292.884-.292 1.25 0l5.001 4c.431.345.501.974.156 1.405-.198.247-.488.376-.782.376z", {["fill"]: "#DD2E44",["d"]: "M31.998 27c-.168 0-.339-.042-.495-.132l-13.504-7.717-13.504 7.717c-.478.276-1.09.107-1.364-.372s-.107-1.09.372-1.364l14-8c.308-.176.685-.176.992 0l14 8c.48.274.647.885.372 1.364-.184.323-.521.504-.869.504zm-8.999-13c-.219 0-.439-.072-.624-.219l-4.376-3.5-4.374 3.5c-.432.343-1.061.275-1.406-.156-.345-.432-.275-1.061.156-1.406l4.999-4c.365-.292.884-.292 1.25 0l5.001 4c.431.345.501.974.156 1.405-.198.247-.488.376-.782.376z",}));el.appendChild(svg["path"]("M12.999 31c0-1.104-.895-2-1.999-2-1.105 0-2 .896-2 2v5h4v-5h-.001zm7-2c0-1.104-.896-2-1.999-2-1.105 0-2 .896-2 2v7h4l-.001-7zm7 2c0-1.104-.896-2-1.999-2-1.105 0-2 .896-2 2v5h4l-.001-5z", {["fill"]: "#662113",["d"]: "M12.999 31c0-1.104-.895-2-1.999-2-1.105 0-2 .896-2 2v5h4v-5h-.001zm7-2c0-1.104-.896-2-1.999-2-1.105 0-2 .896-2 2v7h4l-.001-7zm7 2c0-1.104-.896-2-1.999-2-1.105 0-2 .896-2 2v5h4l-.001-5z",}));
				proto = el;
			}
		},
	};
	delete new_props.options;

	return h("svg", new_props);
};