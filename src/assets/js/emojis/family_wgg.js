import { h } from "/assets/js/vendor/hyperapp.js";
import rough from "/assets/js/vendor/rough.js";
import uuid from "/assets/js/vendor/uuid.js";

export default (props = {}) => {
	let proto;
	const new_props = {
		...props,
		key: props.key || uuid(),
		xmlns: "http://www.w3.org/2000/svg",
		viewBox: "-1 -1 37 37",
		width: (props.size || 1) * 16,
		height: (props.size || 1) * 16,
		oncreate: el => {
			const svg = rough.svg(el, {
				options: props.options || {
					roughness: 0.1,
					strokeWidth: 0.2,
					fillStyle: "solid",
				}
			});

			if (proto) {
				el.parentNode.replaceChild(proto.cloneNode(true), el);
			} else {
				el.appendChild(svg["path"]("M10.472 14c.253 3.89 3.521 6.969 7.5 6.969s7.247-3.079 7.5-6.969V4h-15v10z", {["fill"]: "#FFDC5D",["d"]: "M10.472 14c.253 3.89 3.521 6.969 7.5 6.969s7.247-3.079 7.5-6.969V4h-15v10z",}));el.appendChild(svg["path"]("M22.01.808c-.333 0-.657.034-.974.09C19.865.328 18.862 0 17.472 0c-4.907 0-9 4.093-9 9v7c.148 5.223 4.241 9.568 9.5 9.568s9.352-4.345 9.5-9.568V6c0-3.122-2.339-5.192-5.462-5.192zM25.472 14c-.253 3.89-3.521 6.969-7.5 6.969s-7.247-3.079-7.5-6.969V9.663c5.328-.155 8.51-2.343 10.237-4.181C21.125 6.957 22.273 9 25.472 9v5z", {["fill"]: "#FFAC33",["d"]: "M22.01.808c-.333 0-.657.034-.974.09C19.865.328 18.862 0 17.472 0c-4.907 0-9 4.093-9 9v7c.148 5.223 4.241 9.568 9.5 9.568s9.352-4.345 9.5-9.568V6c0-3.122-2.339-5.192-5.462-5.192zM25.472 14c-.253 3.89-3.521 6.969-7.5 6.969s-7.247-3.079-7.5-6.969V9.663c5.328-.155 8.51-2.343 10.237-4.181C21.125 6.957 22.273 9 25.472 9v5z",}));el.appendChild(svg["path"]("M25.472 22h-16c-1.779 0-1.945 1.193-1.945 2.973V36h20.945V24.973c0-1.973-1-2.973-3-2.973z", {["fill"]: "#9268CA",["d"]: "M25.472 22h-16c-1.779 0-1.945 1.193-1.945 2.973V36h20.945V24.973c0-1.973-1-2.973-3-2.973z",}));el.appendChild(svg["path"]("M23.472 26H24.5v10h-1.028zm-12 0H12.5v10h-1.028z", {["fill"]: "#7450A8",["d"]: "M23.472 26H24.5v10h-1.028zm-12 0H12.5v10h-1.028z",}));el.appendChild(svg["path"]("M15.472 19v3c0 1.381 1.119 2.5 2.5 2.5s2.5-1.119 2.5-2.5v-3h-5z", {["fill"]: "#FFDC5D",["d"]: "M15.472 19v3c0 1.381 1.119 2.5 2.5 2.5s2.5-1.119 2.5-2.5v-3h-5z",}));el.appendChild(svg["path"]("M14.742 17.769h6.461s-.808 1.616-3.23 1.616-3.231-1.616-3.231-1.616z", {["fill"]: "#DA2F47",["d"]: "M14.742 17.769h6.461s-.808 1.616-3.23 1.616-3.231-1.616-3.231-1.616z",}));el.appendChild(svg["path"]("M18.472 15.5h-1c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h1c.276 0 .5.224.5.5s-.223.5-.5.5z", {["fill"]: "#BF6952",["d"]: "M18.472 15.5h-1c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h1c.276 0 .5.224.5.5s-.223.5-.5.5z",}));el.appendChild(svg["path"]("M14.472 13c-.553 0-1-.448-1-1v-1c0-.552.447-1 1-1s1 .448 1 1v1c0 .552-.447 1-1 1zm7 0c-.553 0-1-.448-1-1v-1c0-.552.447-1 1-1s1 .448 1 1v1c0 .552-.447 1-1 1z", {["fill"]: "#662113",["d"]: "M14.472 13c-.553 0-1-.448-1-1v-1c0-.552.447-1 1-1s1 .448 1 1v1c0 .552-.447 1-1 1zm7 0c-.553 0-1-.448-1-1v-1c0-.552.447-1 1-1s1 .448 1 1v1c0 .552-.447 1-1 1z",}));el.appendChild(svg["path"]("M32.998 22.714l-4.286-.857-7.714.857V27H21l-.002.04c0 3.291 2.685 5.96 5.998 5.96 3.312 0 5.997-2.669 5.997-5.96l-.002-.04h.007v-4.286z", {["fill"]: "#FFDC5D",["d"]: "M32.998 22.714l-4.286-.857-7.714.857V27H21l-.002.04c0 3.291 2.685 5.96 5.998 5.96 3.312 0 5.997-2.669 5.997-5.96l-.002-.04h.007v-4.286z",}));el.appendChild(svg["path"]("M33.995 25.192c0-.023.003-.044.003-.067l-.002-.039.002-.086-.006.006C33.928 21.679 31.216 19 27.873 19c-.298 0-.588.029-.875.07-.286-.041-.577-.07-.875-.07-3.383 0-6.125 2.742-6.125 6.125 0 0 .125 3.188-1 6.875 0 0 3.344 2 8 2s8-2 8-2c-.968-3.172-1.01-6.061-1.003-6.808zm-1.002 1.848c0 3.291-2.685 5.96-5.997 5.96s-5.997-2.669-5.997-5.96c-.001-.013.001-.027.001-.04h-.002v-1.911c4.172-.181 6.588-1.592 7.929-2.91.91 1.074 2.351 2.414 4.071 2.816V27h-.007l.002.04z", {["fill"]: "#F4900C",["d"]: "M33.995 25.192c0-.023.003-.044.003-.067l-.002-.039.002-.086-.006.006C33.928 21.679 31.216 19 27.873 19c-.298 0-.588.029-.875.07-.286-.041-.577-.07-.875-.07-3.383 0-6.125 2.742-6.125 6.125 0 0 .125 3.188-1 6.875 0 0 3.344 2 8 2s8-2 8-2c-.968-3.172-1.01-6.061-1.003-6.808zm-1.002 1.848c0 3.291-2.685 5.96-5.997 5.96s-5.997-2.669-5.997-5.96c-.001-.013.001-.027.001-.04h-.002v-1.911c4.172-.181 6.588-1.592 7.929-2.91.91 1.074 2.351 2.414 4.071 2.816V27h-.007l.002.04z",}));el.appendChild(svg["path"]("M28.998 34v-3h-4v3h-1v2h6v-2z", {["fill"]: "#FFDC5D",["d"]: "M28.998 34v-3h-4v3h-1v2h6v-2z",}));el.appendChild(svg["path"]("M31.998 33h-3l-2 2-2-2h-2c-2.493 0-4.276 1.385-4.814 3h17.632c-.518-1.602-2.159-3-3.818-3z", {["fill"]: "#EA596E",["d"]: "M31.998 33h-3l-2 2-2-2h-2c-2.493 0-4.276 1.385-4.814 3h17.632c-.518-1.602-2.159-3-3.818-3z",}));el.appendChild(svg["path"]("M28.998 30h-4s.389 1.333 2 1.333 2-1.333 2-1.333zm-2-.5c-.13 0-.26-.05-.35-.15-.1-.09-.15-.22-.15-.35s.05-.26.15-.36c.17-.17.52-.18.71.01.09.091.14.221.14.351s-.05.26-.15.35c-.09.099-.22.149-.35.149z", {["fill"]: "#BF6952",["d"]: "M28.998 30h-4s.389 1.333 2 1.333 2-1.333 2-1.333zm-2-.5c-.13 0-.26-.05-.35-.15-.1-.09-.15-.22-.15-.35s.05-.26.15-.36c.17-.17.52-.18.71.01.09.091.14.221.14.351s-.05.26-.15.35c-.09.099-.22.149-.35.149z",}));el.appendChild(svg["path"]("M28.998 28c-.461 0-.833-.373-.833-.833v-.833c0-.461.373-.833.833-.833.461 0 .833.373.833.833v.833c.001.46-.372.833-.833.833zm-4 0c-.461 0-.833-.373-.833-.833v-.833c0-.461.373-.833.833-.833.461 0 .833.373.833.833v.833c.001.46-.372.833-.833.833z", {["fill"]: "#662113",["d"]: "M28.998 28c-.461 0-.833-.373-.833-.833v-.833c0-.461.373-.833.833-.833.461 0 .833.373.833.833v.833c.001.46-.372.833-.833.833zm-4 0c-.461 0-.833-.373-.833-.833v-.833c0-.461.373-.833.833-.833.461 0 .833.373.833.833v.833c.001.46-.372.833-.833.833z",}));el.appendChild(svg["path"]("M14.998 22.714l-4.286-.857-7.714.857V27H3l-.002.04c0 3.291 2.685 5.96 5.998 5.96 3.312 0 5.997-2.669 5.997-5.96l-.002-.04h.007v-4.286z", {["fill"]: "#FFDC5D",["d"]: "M14.998 22.714l-4.286-.857-7.714.857V27H3l-.002.04c0 3.291 2.685 5.96 5.998 5.96 3.312 0 5.997-2.669 5.997-5.96l-.002-.04h.007v-4.286z",}));el.appendChild(svg["path"]("M15.995 25.192c0-.023.003-.044.003-.067l-.002-.039.002-.086-.006.006C15.928 21.679 13.216 19 9.873 19c-.298 0-.588.029-.875.07-.286-.041-.577-.07-.875-.07-3.383 0-6.125 2.742-6.125 6.125 0 0 .125 3.188-1 6.875 0 0 3.344 2 8 2s8-2 8-2c-.968-3.172-1.01-6.061-1.003-6.808zm-1.002 1.848c0 3.291-2.685 5.96-5.997 5.96s-5.997-2.669-5.997-5.96C2.998 27.027 3 27.013 3 27h-.002v-1.911c4.172-.181 6.588-1.592 7.929-2.91.91 1.074 2.351 2.414 4.071 2.816V27h-.007l.002.04z", {["fill"]: "#F4900C",["d"]: "M15.995 25.192c0-.023.003-.044.003-.067l-.002-.039.002-.086-.006.006C15.928 21.679 13.216 19 9.873 19c-.298 0-.588.029-.875.07-.286-.041-.577-.07-.875-.07-3.383 0-6.125 2.742-6.125 6.125 0 0 .125 3.188-1 6.875 0 0 3.344 2 8 2s8-2 8-2c-.968-3.172-1.01-6.061-1.003-6.808zm-1.002 1.848c0 3.291-2.685 5.96-5.997 5.96s-5.997-2.669-5.997-5.96C2.998 27.027 3 27.013 3 27h-.002v-1.911c4.172-.181 6.588-1.592 7.929-2.91.91 1.074 2.351 2.414 4.071 2.816V27h-.007l.002.04z",}));el.appendChild(svg["path"]("M10.998 34v-3h-4v3h-1v2h6v-2z", {["fill"]: "#FFDC5D",["d"]: "M10.998 34v-3h-4v3h-1v2h6v-2z",}));el.appendChild(svg["path"]("M13.998 33h-3l-2 2-2-2h-2C2.505 33 .722 34.385.184 36h17.632c-.518-1.602-2.159-3-3.818-3z", {["fill"]: "#EA596E",["d"]: "M13.998 33h-3l-2 2-2-2h-2C2.505 33 .722 34.385.184 36h17.632c-.518-1.602-2.159-3-3.818-3z",}));el.appendChild(svg["path"]("M10.998 30h-4s.389 1.333 2 1.333 2-1.333 2-1.333zm-2-.5c-.13 0-.26-.05-.35-.15-.1-.09-.15-.22-.15-.35s.05-.26.15-.36c.17-.17.52-.18.71.01.09.091.14.221.14.351s-.05.26-.15.35c-.09.099-.22.149-.35.149z", {["fill"]: "#BF6952",["d"]: "M10.998 30h-4s.389 1.333 2 1.333 2-1.333 2-1.333zm-2-.5c-.13 0-.26-.05-.35-.15-.1-.09-.15-.22-.15-.35s.05-.26.15-.36c.17-.17.52-.18.71.01.09.091.14.221.14.351s-.05.26-.15.35c-.09.099-.22.149-.35.149z",}));el.appendChild(svg["path"]("M10.998 28c-.461 0-.833-.373-.833-.833v-.833c0-.461.373-.833.833-.833.461 0 .833.373.833.833v.833c.001.46-.372.833-.833.833zm-4 0c-.461 0-.833-.373-.833-.833v-.833c0-.461.373-.833.833-.833.461 0 .833.373.833.833v.833c.001.46-.372.833-.833.833z", {["fill"]: "#662113",["d"]: "M10.998 28c-.461 0-.833-.373-.833-.833v-.833c0-.461.373-.833.833-.833.461 0 .833.373.833.833v.833c.001.46-.372.833-.833.833zm-4 0c-.461 0-.833-.373-.833-.833v-.833c0-.461.373-.833.833-.833.461 0 .833.373.833.833v.833c.001.46-.372.833-.833.833z",}));
				proto = el;
			}
		},
	};
	delete new_props.options;

	return h("svg", new_props);
};