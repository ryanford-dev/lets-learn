import { h } from "/assets/js/vendor/hyperapp.js";
import rough from "/assets/js/vendor/rough.js";
import uuid from "/assets/js/vendor/uuid.js";

export default (props = {}) => {
	let proto;
	const new_props = {
		...props,
		key: props.key || uuid(),
		xmlns: "http://www.w3.org/2000/svg",
		viewBox: "-1 -1 37 37",
		width: (props.size || 1) * 16,
		height: (props.size || 1) * 16,
		oncreate: el => {
			const svg = rough.svg(el, {
				options: props.options || {
					roughness: 0.1,
					strokeWidth: 0.2,
					fillStyle: "solid",
				}
			});

			if (proto) {
				el.parentNode.replaceChild(proto.cloneNode(true), el);
			} else {
				el.appendChild(svg["path"]("M13.982 20H14v-9C14 4.925 9.075 0 3 0 1.956 0 .955.165 0 .44v31.037c.652.11 1.317.179 2 .179 6.511 0 11.799-5.189 11.982-11.656z", {["fill"]: "#FFAC33",["d"]: "M13.982 20H14v-9C14 4.925 9.075 0 3 0 1.956 0 .955.165 0 .44v31.037c.652.11 1.317.179 2 .179 6.511 0 11.799-5.189 11.982-11.656z",}));el.appendChild(svg["path"]("M11.431 27C11.287 26.984 0 27 0 27v9h15v-5c0-2.061-1.566-3.782-3.569-4z", {["fill"]: "#9268CA",["d"]: "M11.431 27C11.287 26.984 0 27 0 27v9h15v-5c0-2.061-1.566-3.782-3.569-4z",}));el.appendChild(svg["path"]("M10 32h1v4h-1z", {["fill"]: "#7450A8",["d"]: "M10 32h1v4h-1z",}));el.appendChild(svg["path"]("M0 8.018v22.204C.532 30.7 1.228 31 2 31c1.657 0 3-1.343 3-3v-2.523c3.494-1.237 6-4.56 6-8.477v-5.019c-5.92-.2-9.207-2.168-11-3.963z", {["fill"]: "#FFDC5D",["d"]: "M0 8.018v22.204C.532 30.7 1.228 31 2 31c1.657 0 3-1.343 3-3v-2.523c3.494-1.237 6-4.56 6-8.477v-5.019c-5.92-.2-9.207-2.168-11-3.963z",}));el.appendChild(svg["path"]("M0 22v1.637c.538.212 1.191.363 2 .363 1.413 0 2.369-.445 3-.915C5.707 22.558 6 22 6 22H0z", {["fill"]: "#DF1F32",["d"]: "M0 22v1.637c.538.212 1.191.363 2 .363 1.413 0 2.369-.445 3-.915C5.707 22.558 6 22 6 22H0z",}));el.appendChild(svg["path"]("M3 19.5H1c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h2c.276 0 .5.224.5.5s-.224.5-.5.5z", {["fill"]: "#C1694F",["d"]: "M3 19.5H1c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h2c.276 0 .5.224.5.5s-.224.5-.5.5z",}));el.appendChild(svg["path"]("M6 16c-.552 0-1-.448-1-1v-1c0-.552.448-1 1-1s1 .448 1 1v1c0 .552-.448 1-1 1z", {["fill"]: "#662113",["d"]: "M6 16c-.552 0-1-.448-1-1v-1c0-.552.448-1 1-1s1 .448 1 1v1c0 .552-.448 1-1 1z",}));el.appendChild(svg["path"]("M22.018 20H22v-9c0-6.075 4.925-11 11-11 1.044 0 2.045.165 3 .44v31.037c-.652.11-1.317.179-2 .179-6.511 0-11.799-5.189-11.982-11.656z", {["fill"]: "#FFAC33",["d"]: "M22.018 20H22v-9c0-6.075 4.925-11 11-11 1.044 0 2.045.165 3 .44v31.037c-.652.11-1.317.179-2 .179-6.511 0-11.799-5.189-11.982-11.656z",}));el.appendChild(svg["path"]("M24.569 27C24.713 26.984 36 27 36 27v9H21v-5c0-2.061 1.566-3.782 3.569-4z", {["fill"]: "#9268CA",["d"]: "M24.569 27C24.713 26.984 36 27 36 27v9H21v-5c0-2.061 1.566-3.782 3.569-4z",}));el.appendChild(svg["path"]("M25 32h1v4h-1z", {["fill"]: "#7450A8",["d"]: "M25 32h1v4h-1z",}));el.appendChild(svg["path"]("M36 8.018v22.204c-.532.478-1.228.778-2 .778-1.657 0-3-1.343-3-3v-2.523c-3.494-1.237-6-4.56-6-8.477v-5.019c5.92-.2 9.207-2.168 11-3.963z", {["fill"]: "#FFDC5D",["d"]: "M36 8.018v22.204c-.532.478-1.228.778-2 .778-1.657 0-3-1.343-3-3v-2.523c-3.494-1.237-6-4.56-6-8.477v-5.019c5.92-.2 9.207-2.168 11-3.963z",}));el.appendChild(svg["path"]("M36 22v1.637c-.538.212-1.191.363-2 .363-1.413 0-2.369-.445-3-.915-.707-.527-1-1.085-1-1.085h6z", {["fill"]: "#DF1F32",["d"]: "M36 22v1.637c-.538.212-1.191.363-2 .363-1.413 0-2.369-.445-3-.915-.707-.527-1-1.085-1-1.085h6z",}));el.appendChild(svg["path"]("M33 19.5h2c.276 0 .5-.224.5-.5s-.224-.5-.5-.5h-2c-.276 0-.5.224-.5.5s.224.5.5.5z", {["fill"]: "#C1694F",["d"]: "M33 19.5h2c.276 0 .5-.224.5-.5s-.224-.5-.5-.5h-2c-.276 0-.5.224-.5.5s.224.5.5.5z",}));el.appendChild(svg["path"]("M30 16c.552 0 1-.448 1-1v-1c0-.552-.448-1-1-1s-1 .448-1 1v1c0 .552.448 1 1 1z", {["fill"]: "#662113",["d"]: "M30 16c.552 0 1-.448 1-1v-1c0-.552-.448-1-1-1s-1 .448-1 1v1c0 .552.448 1 1 1z",}));el.appendChild(svg["path"]("M26.539 4.711c0-2.602-2.11-4.711-4.711-4.711C20.249 0 18.855.78 18 1.972 17.144.78 15.751 0 14.172 0c-2.601 0-4.711 2.109-4.711 4.711 0 .369.047.727.127 1.07.654 4.065 5.173 8.353 8.411 9.529 3.238-1.177 7.758-5.465 8.412-9.528.081-.344.128-.702.128-1.071z", {["fill"]: "#DD2E44",["d"]: "M26.539 4.711c0-2.602-2.11-4.711-4.711-4.711C20.249 0 18.855.78 18 1.972 17.144.78 15.751 0 14.172 0c-2.601 0-4.711 2.109-4.711 4.711 0 .369.047.727.127 1.07.654 4.065 5.173 8.353 8.411 9.529 3.238-1.177 7.758-5.465 8.412-9.528.081-.344.128-.702.128-1.071z",}));
				proto = el;
			}
		},
	};
	delete new_props.options;

	return h("svg", new_props);
};