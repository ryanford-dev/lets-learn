import { h } from "/assets/js/vendor/hyperapp.js";
import rough from "/assets/js/vendor/rough.js";
import uuid from "/assets/js/vendor/uuid.js";

export default (props = {}) => {
	let proto;
	const new_props = {
		...props,
		key: props.key || uuid(),
		xmlns: "http://www.w3.org/2000/svg",
		viewBox: "-1 -1 37 37",
		width: (props.size || 1) * 16,
		height: (props.size || 1) * 16,
		oncreate: el => {
			const svg = rough.svg(el, {
				options: props.options || {
					roughness: 0.1,
					strokeWidth: 0.2,
					fillStyle: "solid",
				}
			});

			if (proto) {
				el.parentNode.replaceChild(proto.cloneNode(true), el);
			} else {
				el.appendChild(svg["path"]("M36 26c0 2.209-1.791 4-4 4H8c-2.209 0-4-1.791-4-4V6.313C4 4.104 9.791 0 12 0h18.625C33.719 0 36 2.312 36 5.375V26z", {["fill"]: "#F4900C",["d"]: "M36 26c0 2.209-1.791 4-4 4H8c-2.209 0-4-1.791-4-4V6.313C4 4.104 9.791 0 12 0h18.625C33.719 0 36 2.312 36 5.375V26z",}));el.appendChild(svg["path"]("M34 30c0 2.209-1.791 4-4 4H10c-2.209 0-4-1.791-4-4V6c0-4.119-.021-4 5-4h19c2.209 0 4 1.791 4 4v24z", {["fill"]: "#CCD6DD",["d"]: "M34 30c0 2.209-1.791 4-4 4H10c-2.209 0-4-1.791-4-4V6c0-4.119-.021-4 5-4h19c2.209 0 4 1.791 4 4v24z",}));el.appendChild(svg["path"]("M32 31c0 1.657-1.343 3-3 3H7c-1.657 0-3-1.343-3-3V7c0-1.657 1.343-3 3-3h22c1.657 0 3 1.343 3 3v24z", {["fill"]: "#E1E8ED",["d"]: "M32 31c0 1.657-1.343 3-3 3H7c-1.657 0-3-1.343-3-3V7c0-1.657 1.343-3 3-3h22c1.657 0 3 1.343 3 3v24z",}));el.appendChild(svg["path"]("M32 32c0 2.209-1.791 4-4 4H9c-2.209 0-4-1.791-4-4V10c0-2.209 1.791-4 4-4h19c2.209 0 4 1.791 4 4v22z", {["fill"]: "#FFAC33",["d"]: "M32 32c0 2.209-1.791 4-4 4H9c-2.209 0-4-1.791-4-4V10c0-2.209 1.791-4 4-4h19c2.209 0 4 1.791 4 4v22z",}));el.appendChild(svg["path"]("M30 32c0 2.209-1.791 4-4 4H9c-2.209 0-4-1.791-4-4V12c0-2.209 1.791-4 4-4h17.335C28.544 8 30 9.456 30 11.665V32z", {["fill"]: "#FFCC4D",["d"]: "M30 32c0 2.209-1.791 4-4 4H9c-2.209 0-4-1.791-4-4V12c0-2.209 1.791-4 4-4h17.335C28.544 8 30 9.456 30 11.665V32z",}));el.appendChild(svg["path"]("M9 6C7.312 6 7.269 4.078 8 3.25 8.832 2.309 10.125 2 12.438 2H14V0h-2.719C7.312 0 4 2.5 4 5.375V32c0 2.209 1.791 4 4 4h2V6H9z", {["fill"]: "#F4900C",["d"]: "M9 6C7.312 6 7.269 4.078 8 3.25 8.832 2.309 10.125 2 12.438 2H14V0h-2.719C7.312 0 4 2.5 4 5.375V32c0 2.209 1.791 4 4 4h2V6H9z",}));el.appendChild(svg["path"]("M8.542 32.979c0 .702-.667 1.271-1.49 1.271-.822 0-1.489-.569-1.489-1.271 0-.701.667-1.271 1.489-1.271.823 0 1.49.569 1.49 1.271z", {["fill"]: "#662113",["d"]: "M8.542 32.979c0 .702-.667 1.271-1.49 1.271-.822 0-1.489-.569-1.489-1.271 0-.701.667-1.271 1.489-1.271.823 0 1.49.569 1.49 1.271z",}));el.appendChild(svg["path"]("M6.894 32.271c-.48.055-.792.375-1.017.729-.307.485-1.007 1-1.877 1-1.104 0-2-.671-2-1.5S2.896 31 4 31v-1.996C1.833 29.025.083 30.579.083 32.5c0 1.934 1.772 3.5 3.958 3.5 1.854 0 3.347-1.045 3.901-2.569.277-.759-.469-1.224-1.048-1.16z", {["fill"]: "#66757F",["d"]: "M6.894 32.271c-.48.055-.792.375-1.017.729-.307.485-1.007 1-1.877 1-1.104 0-2-.671-2-1.5S2.896 31 4 31v-1.996C1.833 29.025.083 30.579.083 32.5c0 1.934 1.772 3.5 3.958 3.5 1.854 0 3.347-1.045 3.901-2.569.277-.759-.469-1.224-1.048-1.16z",}));el.appendChild(svg["path"]("M8.542 24.979c0 .702-.667 1.271-1.49 1.271-.822 0-1.489-.569-1.489-1.271 0-.701.667-1.271 1.489-1.271.823 0 1.49.569 1.49 1.271z", {["fill"]: "#662113",["d"]: "M8.542 24.979c0 .702-.667 1.271-1.49 1.271-.822 0-1.489-.569-1.489-1.271 0-.701.667-1.271 1.489-1.271.823 0 1.49.569 1.49 1.271z",}));el.appendChild(svg["path"]("M6.894 24.271c-.48.055-.792.375-1.017.729-.307.485-1.007 1-1.877 1-1.104 0-2-.671-2-1.5S2.896 23 4 23v-1.996C1.833 21.025.083 22.579.083 24.5c0 1.934 1.772 3.5 3.958 3.5 1.854 0 3.347-1.045 3.901-2.569.277-.759-.469-1.224-1.048-1.16z", {["fill"]: "#66757F",["d"]: "M6.894 24.271c-.48.055-.792.375-1.017.729-.307.485-1.007 1-1.877 1-1.104 0-2-.671-2-1.5S2.896 23 4 23v-1.996C1.833 21.025.083 22.579.083 24.5c0 1.934 1.772 3.5 3.958 3.5 1.854 0 3.347-1.045 3.901-2.569.277-.759-.469-1.224-1.048-1.16z",}));el.appendChild(svg["path"]("M8.542 16.979c0 .702-.667 1.271-1.49 1.271-.822 0-1.489-.569-1.489-1.271 0-.701.667-1.271 1.489-1.271.823 0 1.49.569 1.49 1.271z", {["fill"]: "#662113",["d"]: "M8.542 16.979c0 .702-.667 1.271-1.49 1.271-.822 0-1.489-.569-1.489-1.271 0-.701.667-1.271 1.489-1.271.823 0 1.49.569 1.49 1.271z",}));el.appendChild(svg["path"]("M6.894 16.271c-.48.055-.792.375-1.017.729-.307.485-1.007 1-1.877 1-1.104 0-2-.671-2-1.5S2.896 15 4 15v-1.996C1.833 13.025.083 14.579.083 16.5c0 1.934 1.772 3.5 3.958 3.5 1.854 0 3.347-1.045 3.901-2.569.277-.759-.469-1.224-1.048-1.16z", {["fill"]: "#66757F",["d"]: "M6.894 16.271c-.48.055-.792.375-1.017.729-.307.485-1.007 1-1.877 1-1.104 0-2-.671-2-1.5S2.896 15 4 15v-1.996C1.833 13.025.083 14.579.083 16.5c0 1.934 1.772 3.5 3.958 3.5 1.854 0 3.347-1.045 3.901-2.569.277-.759-.469-1.224-1.048-1.16z",}));el.appendChild(svg["path"]("M8.542 8.979c0 .702-.667 1.271-1.49 1.271-.822 0-1.489-.569-1.489-1.271 0-.701.667-1.271 1.489-1.271.823 0 1.49.569 1.49 1.271z", {["fill"]: "#662113",["d"]: "M8.542 8.979c0 .702-.667 1.271-1.49 1.271-.822 0-1.489-.569-1.489-1.271 0-.701.667-1.271 1.489-1.271.823 0 1.49.569 1.49 1.271z",}));el.appendChild(svg["path"]("M6.894 8.271c-.48.055-.792.375-1.017.729C5.57 9.485 4.87 10 4 10c-1.104 0-2-.671-2-1.5S2.896 7 4 7V5.004C1.834 5.024.083 6.579.083 8.5c0 1.934 1.772 3.5 3.958 3.5 1.854 0 3.347-1.045 3.901-2.569.277-.759-.469-1.224-1.048-1.16z", {["fill"]: "#66757F",["d"]: "M6.894 8.271c-.48.055-.792.375-1.017.729C5.57 9.485 4.87 10 4 10c-1.104 0-2-.671-2-1.5S2.896 7 4 7V5.004C1.834 5.024.083 6.579.083 8.5c0 1.934 1.772 3.5 3.958 3.5 1.854 0 3.347-1.045 3.901-2.569.277-.759-.469-1.224-1.048-1.16z",}));
				proto = el;
			}
		},
	};
	delete new_props.options;

	return h("svg", new_props);
};