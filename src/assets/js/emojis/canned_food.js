import { h } from "/assets/js/vendor/hyperapp.js";
import rough from "/assets/js/vendor/rough.js";
import uuid from "/assets/js/vendor/uuid.js";

export default (props = {}) => {
	let proto;
	const new_props = {
		...props,
		key: props.key || uuid(),
		xmlns: "http://www.w3.org/2000/svg",
		viewBox: "-1 -1 37 37",
		width: (props.size || 1) * 16,
		height: (props.size || 1) * 16,
		oncreate: el => {
			const svg = rough.svg(el, {
				options: props.options || {
					roughness: 0.1,
					strokeWidth: 0.2,
					fillStyle: "solid",
				}
			});

			if (proto) {
				el.parentNode.replaceChild(proto.cloneNode(true), el);
			} else {
				el.appendChild(svg["path"]("M30 32.5c0 1.933-5.373 3.5-12 3.5S6 34.433 6 32.5c0-1.932 5.372-3.5 12-3.5 6.627 0 12 1.567 12 3.5z", {["fill"]: "#99AAB5",["d"]: "M30 32.5c0 1.933-5.373 3.5-12 3.5S6 34.433 6 32.5c0-1.932 5.372-3.5 12-3.5 6.627 0 12 1.567 12 3.5z",}));el.appendChild(svg["path"]("M6 31.5h24v1H6z", {["fill"]: "#99AAB5",["d"]: "M6 31.5h24v1H6z",}));el.appendChild(svg["path"]("M30 31.5c0 1.933-5.373 3.5-12 3.5S6 33.433 6 31.5 11.372 28 18 28c6.627 0 12 1.567 12 3.5z", {["fill"]: "#E6E7E8",["d"]: "M30 31.5c0 1.933-5.373 3.5-12 3.5S6 33.433 6 31.5 11.372 28 18 28c6.627 0 12 1.567 12 3.5z",}));el.appendChild(svg["path"]("M29 31c0 1.656-4.926 3-11 3-6.075 0-11-1.343-11-3s4.924-3 11-3c6.075 0 11 1.343 11 3z", {["fill"]: "#5C913B",["d"]: "M29 31c0 1.656-4.926 3-11 3-6.075 0-11-1.343-11-3s4.924-3 11-3c6.075 0 11 1.343 11 3z",}));el.appendChild(svg["path"]("M7 8h22v23H7z", {["fill"]: "#5C913B",["d"]: "M7 8h22v23H7z",}));el.appendChild(svg["path"]("M29 23c0 1.932-4.926 3.5-11 3.5-6.075 0-11-1.567-11-3.5s4.924-3.5 11-3.5c6.074 0 11 1.567 11 3.5z", {["fill"]: "#A6D388",["d"]: "M29 23c0 1.932-4.926 3.5-11 3.5-6.075 0-11-1.567-11-3.5s4.924-3.5 11-3.5c6.074 0 11 1.567 11 3.5z",}));el.appendChild(svg["path"]("M7 10h22v13H7z", {["fill"]: "#A6D388",["d"]: "M7 10h22v13H7z",}));el.appendChild(svg["path"]("M29 14c0 1.932-4.926 3.5-11 3.5-6.075 0-10.999-1.567-10.999-3.5S11.925 10.5 18 10.5c6.074 0 11 1.567 11 3.5z", {["fill"]: "#5C913B",["d"]: "M29 14c0 1.932-4.926 3.5-11 3.5-6.075 0-10.999-1.567-10.999-3.5S11.925 10.5 18 10.5c6.074 0 11 1.567 11 3.5z",}));el.appendChild(svg["path"]("M7 4h22v10H7z", {["fill"]: "#5C913B",["d"]: "M7 4h22v10H7z",}));el.appendChild(svg["path"]("M30 4.5C30 6.433 24.627 8 18 8S6 6.433 6 4.5 11.373 1 18 1s12 1.567 12 3.5z", {["fill"]: "#99AAB5",["d"]: "M30 4.5C30 6.433 24.627 8 18 8S6 6.433 6 4.5 11.373 1 18 1s12 1.567 12 3.5z",}));el.appendChild(svg["path"]("M6 3.5h24v1H6z", {["fill"]: "#99AAB5",["d"]: "M6 3.5h24v1H6z",}));el.appendChild(svg["path"]("M30 3.5C30 5.433 24.627 7 18 7S6 5.433 6 3.5 11.373 0 18 0s12 1.567 12 3.5z", {["fill"]: "#E6E7E8",["d"]: "M30 3.5C30 5.433 24.627 7 18 7S6 5.433 6 3.5 11.373 0 18 0s12 1.567 12 3.5z",}));el.appendChild(svg["path"]("M28.25 3.5C28.25 4.881 23.662 6 18 6S7.75 4.881 7.75 3.5 12.338 1 18 1s10.25 1.119 10.25 2.5z", {["fill"]: "#CCD6DD",["d"]: "M28.25 3.5C28.25 4.881 23.662 6 18 6S7.75 4.881 7.75 3.5 12.338 1 18 1s10.25 1.119 10.25 2.5z",}));el.appendChild(svg["path"]("M27.25 3.5c0 1.105-4.14 2-9.25 2s-9.25-.895-9.25-2 4.141-2 9.25-2c5.11 0 9.25.895 9.25 2z", {["fill"]: "#E6E7E8",["d"]: "M27.25 3.5c0 1.105-4.14 2-9.25 2s-9.25-.895-9.25-2 4.141-2 9.25-2c5.11 0 9.25.895 9.25 2z",}));el.appendChild(svg["path"]("M24 3.5c0 .69-2.686 1.25-6 1.25s-6-.56-6-1.25 2.686-1.25 6-1.25 6 .56 6 1.25z", {["fill"]: "#CCD6DD",["d"]: "M24 3.5c0 .69-2.686 1.25-6 1.25s-6-.56-6-1.25 2.686-1.25 6-1.25 6 .56 6 1.25z",}));el.appendChild(svg["ellipse"](18, 3.5, 9.5, 1.5, {["rx"]: "4.75",["cy"]: "3.5",["ry"]: ".75",["fill"]: "#E6E7E8",["cx"]: "18",}));el.appendChild(svg["path"]("M25 21c0 4.142-3.134 7.5-7 7.5s-7-3.358-7-7.5 3.134-7.5 7-7.5 7 3.358 7 7.5z", {["fill"]: "#FFCC4D",["d"]: "M25 21c0 4.142-3.134 7.5-7 7.5s-7-3.358-7-7.5 3.134-7.5 7-7.5 7 3.358 7 7.5z",}));el.appendChild(svg["path"]("M23 21c0 3.156-2.239 5.715-5 5.715s-5-2.56-5-5.715 2.238-5.714 5-5.714 5 2.558 5 5.714z", {["fill"]: "#FFAC33",["d"]: "M23 21c0 3.156-2.239 5.715-5 5.715s-5-2.56-5-5.715 2.238-5.714 5-5.714 5 2.558 5 5.714z",}));
				proto = el;
			}
		},
	};
	delete new_props.options;

	return h("svg", new_props);
};