import { h } from "/assets/js/vendor/hyperapp.js";
import rough from "/assets/js/vendor/rough.js";
import uuid from "/assets/js/vendor/uuid.js";

export default (props = {}) => {
	let proto;
	const new_props = {
		...props,
		key: props.key || uuid(),
		xmlns: "http://www.w3.org/2000/svg",
		viewBox: "-1 -1 37 37",
		width: (props.size || 1) * 16,
		height: (props.size || 1) * 16,
		oncreate: el => {
			const svg = rough.svg(el, {
				options: props.options || {
					roughness: 0.1,
					strokeWidth: 0.2,
					fillStyle: "solid",
				}
			});

			if (proto) {
				el.parentNode.replaceChild(proto.cloneNode(true), el);
			} else {
				el.appendChild(svg["path"]("M35 17c0 9.389-7.611 17-17 17-9.388 0-17-7.611-17-17C1 7.612 8.612 0 18 0c9.389 0 17 7.612 17 17", {["fill"]: "#FFCB4C",["d"]: "M35 17c0 9.389-7.611 17-17 17-9.388 0-17-7.611-17-17C1 7.612 8.612 0 18 0c9.389 0 17 7.612 17 17",}));el.appendChild(svg["path"]("M18 27.136c3.335 0 5.547.388 8.284.92.625.12 1.841 0 1.841-1.841 0-3.682-4.23-8.284-10.125-8.284S7.875 22.533 7.875 26.215c0 1.841 1.216 1.962 1.841 1.841 2.736-.532 4.949-.92 8.284-.92zm11.9-9.947c-.108-.081-1.823-1.347-4.388-2.214.026-.108.044-.22.044-.336 0-.349-.131-.664-.339-.91 1.703-.492 3.149-.506 3.175-.506.52-.001.943-.425.942-.946-.001-.521-.422-.943-.944-.943-.208 0-5.148.036-8.223 3.11-.27.27-.351.676-.205 1.029.146.353.491.583.872.583 4.335 0 7.899 2.618 7.935 2.645.17.126.368.187.564.187.288 0 .572-.131.757-.378.311-.418.226-1.008-.19-1.321zm-14.066-2.746c-3.074-3.075-8.014-3.11-8.223-3.11-.521 0-.943.422-.944.943-.001.521.421.944.942.946.025 0 1.472.015 3.174.506-.208.247-.339.562-.339.91 0 .116.018.228.044.336-2.565.867-4.281 2.133-4.389 2.214-.417.313-.502.905-.189 1.322.185.248.469.378.756.378.197 0 .396-.062.566-.189.035-.026 3.576-2.644 7.933-2.644.382 0 .726-.23.872-.583.148-.353.068-.758-.203-1.029z", {["fill"]: "#65471B",["d"]: "M18 27.136c3.335 0 5.547.388 8.284.92.625.12 1.841 0 1.841-1.841 0-3.682-4.23-8.284-10.125-8.284S7.875 22.533 7.875 26.215c0 1.841 1.216 1.962 1.841 1.841 2.736-.532 4.949-.92 8.284-.92zm11.9-9.947c-.108-.081-1.823-1.347-4.388-2.214.026-.108.044-.22.044-.336 0-.349-.131-.664-.339-.91 1.703-.492 3.149-.506 3.175-.506.52-.001.943-.425.942-.946-.001-.521-.422-.943-.944-.943-.208 0-5.148.036-8.223 3.11-.27.27-.351.676-.205 1.029.146.353.491.583.872.583 4.335 0 7.899 2.618 7.935 2.645.17.126.368.187.564.187.288 0 .572-.131.757-.378.311-.418.226-1.008-.19-1.321zm-14.066-2.746c-3.074-3.075-8.014-3.11-8.223-3.11-.521 0-.943.422-.944.943-.001.521.421.944.942.946.025 0 1.472.015 3.174.506-.208.247-.339.562-.339.91 0 .116.018.228.044.336-2.565.867-4.281 2.133-4.389 2.214-.417.313-.502.905-.189 1.322.185.248.469.378.756.378.197 0 .396-.062.566-.189.035-.026 3.576-2.644 7.933-2.644.382 0 .726-.23.872-.583.148-.353.068-.758-.203-1.029z",}));el.appendChild(svg["path"]("M25.712 32.287v-7.101c0-2.593-3.889-5.185-7.778-5.185s-7.778 2.593-7.778 5.185v7.101c-4.403.349-7.359.985-7.359 1.713 0 1.105 6.777 2 15.137 2s15.137-.895 15.137-2c0-.728-2.956-1.364-7.359-1.713z", {["fill"]: "#77AF57",["d"]: "M25.712 32.287v-7.101c0-2.593-3.889-5.185-7.778-5.185s-7.778 2.593-7.778 5.185v7.101c-4.403.349-7.359.985-7.359 1.713 0 1.105 6.777 2 15.137 2s15.137-.895 15.137-2c0-.728-2.956-1.364-7.359-1.713z",}));el.appendChild(svg["circle"](15.875, 23.228, 2.47, {["cy"]: "23.228",["r"]: "1.235",["fill"]: "#5D8F3F",["cx"]: "15.875",}));el.appendChild(svg["circle"](20.698, 25.64, 2.47, {["cy"]: "25.64",["r"]: "1.235",["fill"]: "#5D8F3F",["cx"]: "20.698",}));el.appendChild(svg["ellipse"](21.232, 30.515, 2.47, 2.47, {["rx"]: "1.235",["fill"]: "#5D8F3F",["cy"]: "30.515",["ry"]: "1.235",["cx"]: "21.232",["transform"]: "rotate(-80.781 21.232 30.514)",}));el.appendChild(svg["ellipse"](15.107, 32.548, 3.53, 3.53, {["rx"]: "1.765",["fill"]: "#5D8F3F",["cy"]: "32.548",["ry"]: "1.765",["cx"]: "15.107",["transform"]: "rotate(-80.781 15.107 32.548)",}));
				proto = el;
			}
		},
	};
	delete new_props.options;

	return h("svg", new_props);
};