import { h } from "/assets/js/vendor/hyperapp.js";
import rough from "/assets/js/vendor/rough.js";
import uuid from "/assets/js/vendor/uuid.js";

export default (props = {}) => {
	let proto;
	const new_props = {
		...props,
		key: props.key || uuid(),
		xmlns: "http://www.w3.org/2000/svg",
		viewBox: "-1 -1 37 37",
		width: (props.size || 1) * 16,
		height: (props.size || 1) * 16,
		oncreate: el => {
			const svg = rough.svg(el, {
				options: props.options || {
					roughness: 0.1,
					strokeWidth: 0.2,
					fillStyle: "solid",
				}
			});

			if (proto) {
				el.parentNode.replaceChild(proto.cloneNode(true), el);
			} else {
				el.appendChild(svg["path"]("M10.472 14c.253 3.89 3.521 6.969 7.5 6.969s7.247-3.079 7.5-6.969V4h-15v10z", {["fill"]: "#FFDC5D",["d"]: "M10.472 14c.253 3.89 3.521 6.969 7.5 6.969s7.247-3.079 7.5-6.969V4h-15v10z",}));el.appendChild(svg["path"]("M22.01.808c-.333 0-.657.034-.974.09C19.865.328 18.862 0 17.472 0c-4.907 0-9 4.093-9 9v7c.148 5.223 4.241 9.568 9.5 9.568s9.352-4.345 9.5-9.568V6c0-3.122-2.339-5.192-5.462-5.192zM25.472 14c-.253 3.89-3.521 6.969-7.5 6.969s-7.247-3.079-7.5-6.969V9.663c5.328-.155 8.51-2.343 10.237-4.181C21.125 6.957 22.273 9 25.472 9v5z", {["fill"]: "#FFAC33",["d"]: "M22.01.808c-.333 0-.657.034-.974.09C19.865.328 18.862 0 17.472 0c-4.907 0-9 4.093-9 9v7c.148 5.223 4.241 9.568 9.5 9.568s9.352-4.345 9.5-9.568V6c0-3.122-2.339-5.192-5.462-5.192zM25.472 14c-.253 3.89-3.521 6.969-7.5 6.969s-7.247-3.079-7.5-6.969V9.663c5.328-.155 8.51-2.343 10.237-4.181C21.125 6.957 22.273 9 25.472 9v5z",}));el.appendChild(svg["path"]("M25.472 22h-16c-1.779 0-1.945 1.193-1.945 2.973V36h20.945V24.973c0-1.973-1-2.973-3-2.973z", {["fill"]: "#9268CA",["d"]: "M25.472 22h-16c-1.779 0-1.945 1.193-1.945 2.973V36h20.945V24.973c0-1.973-1-2.973-3-2.973z",}));el.appendChild(svg["path"]("M23.472 26H24.5v10h-1.028zm-12 0H12.5v10h-1.028z", {["fill"]: "#7450A8",["d"]: "M23.472 26H24.5v10h-1.028zm-12 0H12.5v10h-1.028z",}));el.appendChild(svg["path"]("M15.472 19v3c0 1.381 1.119 2.5 2.5 2.5s2.5-1.119 2.5-2.5v-3h-5z", {["fill"]: "#FFDC5D",["d"]: "M15.472 19v3c0 1.381 1.119 2.5 2.5 2.5s2.5-1.119 2.5-2.5v-3h-5z",}));el.appendChild(svg["path"]("M14.742 17.769h6.461s-.808 1.616-3.23 1.616-3.231-1.616-3.231-1.616z", {["fill"]: "#DA2F47",["d"]: "M14.742 17.769h6.461s-.808 1.616-3.23 1.616-3.231-1.616-3.231-1.616z",}));el.appendChild(svg["path"]("M18.472 15.5h-1c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h1c.276 0 .5.224.5.5s-.223.5-.5.5z", {["fill"]: "#BF6952",["d"]: "M18.472 15.5h-1c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h1c.276 0 .5.224.5.5s-.223.5-.5.5z",}));el.appendChild(svg["path"]("M14.472 13c-.553 0-1-.448-1-1v-1c0-.552.447-1 1-1s1 .448 1 1v1c0 .552-.447 1-1 1zm7 0c-.553 0-1-.448-1-1v-1c0-.552.447-1 1-1s1 .448 1 1v1c0 .552-.447 1-1 1z", {["fill"]: "#662113",["d"]: "M14.472 13c-.553 0-1-.448-1-1v-1c0-.552.447-1 1-1s1 .448 1 1v1c0 .552-.447 1-1 1zm7 0c-.553 0-1-.448-1-1v-1c0-.552.447-1 1-1s1 .448 1 1v1c0 .552-.447 1-1 1z",}));el.appendChild(svg["path"]("M28.998 34v-3h-4v3h-1v2h6v-2z", {["fill"]: "#FFDC5D",["d"]: "M28.998 34v-3h-4v3h-1v2h6v-2z",}));el.appendChild(svg["path"]("M24.998 33h-2c-2.493 0-4.276 1.385-4.814 3h17.632c-.517-1.602-2.159-3-3.818-3h-3l-.466.466L26.998 35l-2-2z", {["fill"]: "#88C9F9",["d"]: "M24.998 33h-2c-2.493 0-4.276 1.385-4.814 3h17.632c-.517-1.602-2.159-3-3.818-3h-3l-.466.466L26.998 35l-2-2z",}));el.appendChild(svg["path"]("M32.993 27.04l-.002-.04h.007v-4.286l-4.286-.857-7.714.857V27H21l-.002.04c0 .644.106 1.263.296 1.844.782 2.388 3.038 4.116 5.702 4.116 2.659 0 4.911-1.722 5.697-4.103.192-.585.3-1.208.3-1.857z", {["fill"]: "#FFDC5D",["d"]: "M32.993 27.04l-.002-.04h.007v-4.286l-4.286-.857-7.714.857V27H21l-.002.04c0 .644.106 1.263.296 1.844.782 2.388 3.038 4.116 5.702 4.116 2.659 0 4.911-1.722 5.697-4.103.192-.585.3-1.208.3-1.857z",}));el.appendChild(svg["path"]("M33.998 25.125c0-3.383-2.742-6.125-6.125-6.125-.298 0-.588.029-.875.07-.286-.041-.577-.07-.875-.07-3.383 0-6.125 2.742-6.125 6.125 0 1.418.487 2.721 1.296 3.759-.19-.581-.296-1.2-.296-1.844L21 27h-.002v-1.911c4.172-.181 6.588-1.592 7.929-2.91.91 1.074 2.351 2.414 4.071 2.816V27h-.007l.002.04c0 .649-.108 1.272-.301 1.857.816-1.04 1.306-2.348 1.306-3.772z", {["fill"]: "#F4900C",["d"]: "M33.998 25.125c0-3.383-2.742-6.125-6.125-6.125-.298 0-.588.029-.875.07-.286-.041-.577-.07-.875-.07-3.383 0-6.125 2.742-6.125 6.125 0 1.418.487 2.721 1.296 3.759-.19-.581-.296-1.2-.296-1.844L21 27h-.002v-1.911c4.172-.181 6.588-1.592 7.929-2.91.91 1.074 2.351 2.414 4.071 2.816V27h-.007l.002.04c0 .649-.108 1.272-.301 1.857.816-1.04 1.306-2.348 1.306-3.772z",}));el.appendChild(svg["path"]("M28.998 30h-4s.389 1.333 2 1.333 2-1.333 2-1.333zm-2-.5c-.13 0-.26-.05-.35-.15-.1-.09-.15-.22-.15-.35s.05-.26.15-.36c.17-.17.52-.18.71.01.09.091.14.221.14.351s-.05.26-.15.35c-.09.099-.22.149-.35.149z", {["fill"]: "#BF6952",["d"]: "M28.998 30h-4s.389 1.333 2 1.333 2-1.333 2-1.333zm-2-.5c-.13 0-.26-.05-.35-.15-.1-.09-.15-.22-.15-.35s.05-.26.15-.36c.17-.17.52-.18.71.01.09.091.14.221.14.351s-.05.26-.15.35c-.09.099-.22.149-.35.149z",}));el.appendChild(svg["path"]("M28.998 28c-.461 0-.833-.373-.833-.833v-.833c0-.461.373-.833.833-.833.461 0 .833.373.833.833v.833c.001.46-.372.833-.833.833zm-4 0c-.461 0-.833-.373-.833-.833v-.833c0-.461.373-.833.833-.833.461 0 .833.373.833.833v.833c.001.46-.372.833-.833.833z", {["fill"]: "#662113",["d"]: "M28.998 28c-.461 0-.833-.373-.833-.833v-.833c0-.461.373-.833.833-.833.461 0 .833.373.833.833v.833c.001.46-.372.833-.833.833zm-4 0c-.461 0-.833-.373-.833-.833v-.833c0-.461.373-.833.833-.833.461 0 .833.373.833.833v.833c.001.46-.372.833-.833.833z",}));el.appendChild(svg["path"]("M10.998 34v-3h-4v3h-1v2h6v-2z", {["fill"]: "#FFDC5D",["d"]: "M10.998 34v-3h-4v3h-1v2h6v-2z",}));el.appendChild(svg["path"]("M6.998 33h-2C2.505 33 .722 34.385.184 36h17.632c-.517-1.602-2.159-3-3.818-3h-3l-.466.466L8.998 35l-2-2z", {["fill"]: "#88C9F9",["d"]: "M6.998 33h-2C2.505 33 .722 34.385.184 36h17.632c-.517-1.602-2.159-3-3.818-3h-3l-.466.466L8.998 35l-2-2z",}));el.appendChild(svg["path"]("M14.993 27.04l-.002-.04h.007v-4.286l-4.286-.857-7.714.857V27H3l-.002.04c0 .644.106 1.263.296 1.844C4.076 31.272 6.332 33 8.996 33c2.659 0 4.911-1.722 5.697-4.103.192-.585.3-1.208.3-1.857z", {["fill"]: "#FFDC5D",["d"]: "M14.993 27.04l-.002-.04h.007v-4.286l-4.286-.857-7.714.857V27H3l-.002.04c0 .644.106 1.263.296 1.844C4.076 31.272 6.332 33 8.996 33c2.659 0 4.911-1.722 5.697-4.103.192-.585.3-1.208.3-1.857z",}));el.appendChild(svg["path"]("M15.998 25.125c0-3.383-2.742-6.125-6.125-6.125-.298 0-.588.029-.875.07-.286-.041-.577-.07-.875-.07-3.383 0-6.125 2.742-6.125 6.125 0 1.418.487 2.721 1.296 3.759-.19-.581-.296-1.2-.296-1.844L3 27h-.002v-1.911c4.172-.181 6.588-1.592 7.929-2.91.91 1.074 2.351 2.414 4.071 2.816V27h-.007l.002.04c0 .649-.108 1.272-.301 1.857.816-1.04 1.306-2.348 1.306-3.772z", {["fill"]: "#F4900C",["d"]: "M15.998 25.125c0-3.383-2.742-6.125-6.125-6.125-.298 0-.588.029-.875.07-.286-.041-.577-.07-.875-.07-3.383 0-6.125 2.742-6.125 6.125 0 1.418.487 2.721 1.296 3.759-.19-.581-.296-1.2-.296-1.844L3 27h-.002v-1.911c4.172-.181 6.588-1.592 7.929-2.91.91 1.074 2.351 2.414 4.071 2.816V27h-.007l.002.04c0 .649-.108 1.272-.301 1.857.816-1.04 1.306-2.348 1.306-3.772z",}));el.appendChild(svg["path"]("M10.998 30h-4s.389 1.333 2 1.333 2-1.333 2-1.333zm-2-.5c-.13 0-.26-.05-.35-.15-.1-.09-.15-.22-.15-.35s.05-.26.15-.36c.17-.17.52-.18.71.01.09.091.14.221.14.351s-.05.26-.15.35c-.09.099-.22.149-.35.149z", {["fill"]: "#BF6952",["d"]: "M10.998 30h-4s.389 1.333 2 1.333 2-1.333 2-1.333zm-2-.5c-.13 0-.26-.05-.35-.15-.1-.09-.15-.22-.15-.35s.05-.26.15-.36c.17-.17.52-.18.71.01.09.091.14.221.14.351s-.05.26-.15.35c-.09.099-.22.149-.35.149z",}));el.appendChild(svg["path"]("M10.998 28c-.461 0-.833-.373-.833-.833v-.833c0-.461.373-.833.833-.833.461 0 .833.373.833.833v.833c.001.46-.372.833-.833.833zm-4 0c-.461 0-.833-.373-.833-.833v-.833c0-.461.373-.833.833-.833.461 0 .833.373.833.833v.833c.001.46-.372.833-.833.833z", {["fill"]: "#662113",["d"]: "M10.998 28c-.461 0-.833-.373-.833-.833v-.833c0-.461.373-.833.833-.833.461 0 .833.373.833.833v.833c.001.46-.372.833-.833.833zm-4 0c-.461 0-.833-.373-.833-.833v-.833c0-.461.373-.833.833-.833.461 0 .833.373.833.833v.833c.001.46-.372.833-.833.833z",}));
				proto = el;
			}
		},
	};
	delete new_props.options;

	return h("svg", new_props);
};