import { h } from "/assets/js/vendor/hyperapp.js";
import rough from "/assets/js/vendor/rough.js";
import uuid from "/assets/js/vendor/uuid.js";

export default (props = {}) => {
	let proto;
	const new_props = {
		...props,
		key: props.key || uuid(),
		xmlns: "http://www.w3.org/2000/svg",
		viewBox: "-1 -1 37 37",
		width: (props.size || 1) * 16,
		height: (props.size || 1) * 16,
		oncreate: el => {
			const svg = rough.svg(el, {
				options: props.options || {
					roughness: 0.1,
					strokeWidth: 0.2,
					fillStyle: "solid",
				}
			});

			if (proto) {
				el.parentNode.replaceChild(proto.cloneNode(true), el);
			} else {
				el.appendChild(svg["path"]("M0 18h36v9H0z", {["fill"]: "#F18F26",["d"]: "M0 18h36v9H0z",}));el.appendChild(svg["ellipse"](18, 26, 36, 18, {["rx"]: "18",["cy"]: "26",["ry"]: "9",["fill"]: "#F18F26",["cx"]: "18",}));el.appendChild(svg["ellipse"](18, 27, 36, 18, {["rx"]: "18",["cy"]: "27",["ry"]: "9",["fill"]: "#F18F26",["cx"]: "18",}));el.appendChild(svg["path"]("M0 10v16h.117c.996 4.499 8.619 8 17.883 8s16.887-3.501 17.883-8H36V10H0z", {["fill"]: "#9D0522",["d"]: "M0 10v16h.117c.996 4.499 8.619 8 17.883 8s16.887-3.501 17.883-8H36V10H0z",}));el.appendChild(svg["ellipse"](18, 11, 36, 18, {["rx"]: "18",["cy"]: "11",["ry"]: "9",["fill"]: "#F18F26",["cx"]: "18",}));el.appendChild(svg["ellipse"](18, 12, 36, 18, {["rx"]: "18",["cy"]: "12",["ry"]: "9",["fill"]: "#F18F26",["cx"]: "18",}));el.appendChild(svg["path"]("M0 10h1v2H0zm35 0h1v2h-1z", {["fill"]: "#F18F26",["d"]: "M0 10h1v2H0zm35 0h1v2h-1z",}));el.appendChild(svg["ellipse"](18, 10, 36, 18, {["rx"]: "18",["cy"]: "10",["ry"]: "9",["fill"]: "#FCAB40",["cx"]: "18",}));el.appendChild(svg["ellipse"](18, 10, 34, 16, {["rx"]: "17",["cy"]: "10",["ry"]: "8",["fill"]: "#F5F8FA",["cx"]: "18",}));el.appendChild(svg["path"]("M18 3c9.03 0 16.395 3.316 16.946 7.5.022-.166.054-.331.054-.5 0-4.418-7.611-8-17-8S1 5.582 1 10c0 .169.032.334.054.5C1.605 6.316 8.97 3 18 3z", {["fill"]: "#FDD888",["d"]: "M18 3c9.03 0 16.395 3.316 16.946 7.5.022-.166.054-.331.054-.5 0-4.418-7.611-8-17-8S1 5.582 1 10c0 .169.032.334.054.5C1.605 6.316 8.97 3 18 3z",}));el.appendChild(svg["path"]("M28.601 2.599c.44-.33.53-.96.2-1.4l-.6-.8c-.33-.44-.96-.53-1.4-.2L14.157 10.243c-.774-.167-1.785.083-2.673.749-1.326.994-1.863 2.516-1.2 3.4s2.275.794 3.6-.2c.835-.626 1.355-1.461 1.462-2.215l13.255-9.378zm5.868 2.919l-.509-.861c-.28-.474-.896-.632-1.37-.352l-13.913 8.751c-.719-.141-1.626.023-2.472.524-1.426.843-2.127 2.297-1.565 3.248.562.951 2.174 1.039 3.6.196 1.005-.594 1.638-1.49 1.735-2.301l14.142-7.835c.474-.281.632-.897.352-1.37z", {["d"]: "M28.601 2.599c.44-.33.53-.96.2-1.4l-.6-.8c-.33-.44-.96-.53-1.4-.2L14.157 10.243c-.774-.167-1.785.083-2.673.749-1.326.994-1.863 2.516-1.2 3.4s2.275.794 3.6-.2c.835-.626 1.355-1.461 1.462-2.215l13.255-9.378zm5.868 2.919l-.509-.861c-.28-.474-.896-.632-1.37-.352l-13.913 8.751c-.719-.141-1.626.023-2.472.524-1.426.843-2.127 2.297-1.565 3.248.562.951 2.174 1.039 3.6.196 1.005-.594 1.638-1.49 1.735-2.301l14.142-7.835c.474-.281.632-.897.352-1.37z",["fill"]: "#AA695B",}));el.appendChild(svg["path"]("M2 28c-.55 0-1-.45-1-1v-9c0-.55.45-1 1-1s1 .45 1 1v9c0 .55-.45 1-1 1zm9 4c-.55 0-1-.45-1-1v-9c0-.55.45-1 1-1s1 .45 1 1v9c0 .55-.45 1-1 1zm12 0c-.55 0-1-.45-1-1v-9c0-.55.45-1 1-1s1 .45 1 1v9c0 .55-.45 1-1 1zm11-4c-.55 0-1-.45-1-1v-9c0-.55.45-1 1-1s1 .45 1 1v9c0 .55-.45 1-1 1z", {["fill"]: "#DA2F47",["d"]: "M2 28c-.55 0-1-.45-1-1v-9c0-.55.45-1 1-1s1 .45 1 1v9c0 .55-.45 1-1 1zm9 4c-.55 0-1-.45-1-1v-9c0-.55.45-1 1-1s1 .45 1 1v9c0 .55-.45 1-1 1zm12 0c-.55 0-1-.45-1-1v-9c0-.55.45-1 1-1s1 .45 1 1v9c0 .55-.45 1-1 1zm11-4c-.55 0-1-.45-1-1v-9c0-.55.45-1 1-1s1 .45 1 1v9c0 .55-.45 1-1 1z",}));
				proto = el;
			}
		},
	};
	delete new_props.options;

	return h("svg", new_props);
};