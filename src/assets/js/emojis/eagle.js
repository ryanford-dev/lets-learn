import { h } from "/assets/js/vendor/hyperapp.js";
import rough from "/assets/js/vendor/rough.js";
import uuid from "/assets/js/vendor/uuid.js";

export default (props = {}) => {
	let proto;
	const new_props = {
		...props,
		key: props.key || uuid(),
		xmlns: "http://www.w3.org/2000/svg",
		viewBox: "-1 -1 37 37",
		width: (props.size || 1) * 16,
		height: (props.size || 1) * 16,
		oncreate: el => {
			const svg = rough.svg(el, {
				options: props.options || {
					roughness: 0.1,
					strokeWidth: 0.2,
					fillStyle: "solid",
				}
			});

			if (proto) {
				el.parentNode.replaceChild(proto.cloneNode(true), el);
			} else {
				el.appendChild(svg["path"]("M7.042 26c.33 0 .651.121.963.331 1.368-8.106 20.362-8.248 21.755-.29 1.666.412 3.08 4.378 3.748 9.959h-31c.793-5.899 2.522-10 4.534-10z", {["fill"]: "#292F33",["d"]: "M7.042 26c.33 0 .651.121.963.331 1.368-8.106 20.362-8.248 21.755-.29 1.666.412 3.08 4.378 3.748 9.959h-31c.793-5.899 2.522-10 4.534-10z",}));el.appendChild(svg["path"]("M7.043 23.688C10.966 12.533 6.508 3 17.508 3s8.736 8.173 13.193 19.125c1.119 2.75-1.443 5.908-1.443 5.908s-2.612-4.756-4.75-5.846c-.591 3.277-1.75 6.938-1.75 6.938s-2.581-2.965-5.587-5.587c-.879 1.009-2.065 2.183-3.663 3.462-.349-1.048-.943-2.339-1.568-3.576-1.468 2.238-3.182 4.951-3.182 4.951s-2.507-2.435-1.715-4.687z", {["fill"]: "#E1E8ED",["d"]: "M7.043 23.688C10.966 12.533 6.508 3 17.508 3s8.736 8.173 13.193 19.125c1.119 2.75-1.443 5.908-1.443 5.908s-2.612-4.756-4.75-5.846c-.591 3.277-1.75 6.938-1.75 6.938s-2.581-2.965-5.587-5.587c-.879 1.009-2.065 2.183-3.663 3.462-.349-1.048-.943-2.339-1.568-3.576-1.468 2.238-3.182 4.951-3.182 4.951s-2.507-2.435-1.715-4.687z",}));el.appendChild(svg["path"]("M11.507 5c-4.36 3.059-5.542 2.16-7.812 3.562-2.125 1.312-2 4.938-.125 8.062.579-2.661-.5-3.149 6.938-3.149 5 0 7.928.289 7-1-.927-1.289-10.027.459-6.001-7.475z", {["fill"]: "#FFCC4D",["d"]: "M11.507 5c-4.36 3.059-5.542 2.16-7.812 3.562-2.125 1.312-2 4.938-.125 8.062.579-2.661-.5-3.149 6.938-3.149 5 0 7.928.289 7-1-.927-1.289-10.027.459-6.001-7.475z",}));el.appendChild(svg["path"]("M16.535 7.517c0 .82-.663 1.483-1.483 1.483-.82 0-1.484-.663-1.484-1.483 0-.157.031-.305.076-.446h2.816c.044.141.075.289.075.446z", {["fill"]: "#292F33",["d"]: "M16.535 7.517c0 .82-.663 1.483-1.483 1.483-.82 0-1.484-.663-1.484-1.483 0-.157.031-.305.076-.446h2.816c.044.141.075.289.075.446z",}));
				proto = el;
			}
		},
	};
	delete new_props.options;

	return h("svg", new_props);
};