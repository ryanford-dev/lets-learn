import { h } from "/assets/js/vendor/hyperapp.js";
import rough from "/assets/js/vendor/rough.js";
import uuid from "/assets/js/vendor/uuid.js";

export default (props = {}) => {
	let proto;
	const new_props = {
		...props,
		key: props.key || uuid(),
		xmlns: "http://www.w3.org/2000/svg",
		viewBox: "-1 -1 37 37",
		width: (props.size || 1) * 16,
		height: (props.size || 1) * 16,
		oncreate: el => {
			const svg = rough.svg(el, {
				options: props.options || {
					roughness: 0.1,
					strokeWidth: 0.2,
					fillStyle: "solid",
				}
			});

			if (proto) {
				el.parentNode.replaceChild(proto.cloneNode(true), el);
			} else {
				el.appendChild(svg["path"]("M16.867 15.734c.625.626 1.64.626 2.266 0l6.232-6.231c.625-.626.625-1.64 0-2.266l-6.232-6.231c-.625-.626-1.64-.626-2.266 0l-6.232 6.231c-.626.626-.626 1.64 0 2.266l6.232 6.231zm9.631 9.63c.625.626 1.64.626 2.266 0l6.232-6.231c.625-.626.625-1.64 0-2.266l-6.232-6.231c-.625-.626-1.64-.626-2.266 0l-6.232 6.231c-.626.626-.626 1.64 0 2.266l6.232 6.231zm-1.134 1.134l-6.231-6.232c-.626-.626-1.64-.626-2.266 0l-6.231 6.232c-.626.626-.626 1.639 0 2.265l6.231 6.232c.626.625 1.64.625 2.266 0l6.231-6.232c.626-.626.626-1.639 0-2.265zm-9.63-9.63l-6.231-6.232c-.626-.626-1.64-.626-2.266 0l-6.231 6.232c-.626.626-.626 1.639 0 2.265l6.231 6.232c.626.625 1.64.625 2.266 0l6.231-6.232c.626-.626.626-1.639 0-2.265z", {["d"]: "M16.867 15.734c.625.626 1.64.626 2.266 0l6.232-6.231c.625-.626.625-1.64 0-2.266l-6.232-6.231c-.625-.626-1.64-.626-2.266 0l-6.232 6.231c-.626.626-.626 1.64 0 2.266l6.232 6.231zm9.631 9.63c.625.626 1.64.626 2.266 0l6.232-6.231c.625-.626.625-1.64 0-2.266l-6.232-6.231c-.625-.626-1.64-.626-2.266 0l-6.232 6.231c-.626.626-.626 1.64 0 2.266l6.232 6.231zm-1.134 1.134l-6.231-6.232c-.626-.626-1.64-.626-2.266 0l-6.231 6.232c-.626.626-.626 1.639 0 2.265l6.231 6.232c.626.625 1.64.625 2.266 0l6.231-6.232c.626-.626.626-1.639 0-2.265zm-9.63-9.63l-6.231-6.232c-.626-.626-1.64-.626-2.266 0l-6.231 6.232c-.626.626-.626 1.639 0 2.265l6.231 6.232c.626.625 1.64.625 2.266 0l6.231-6.232c.626-.626.626-1.639 0-2.265z",["fill"]: "#55ACEE",}));el.appendChild(svg["path"]("M15.734 16.868l-3.214-3.215C11.571 14.848 11 16.356 11 18c0 1.644.571 3.153 1.52 4.347l3.214-3.214c.626-.626.626-1.639 0-2.265zm6.614 6.612l-3.215-3.215c-.625-.624-1.64-.624-2.266 0l-3.215 3.215C14.847 24.429 16.356 25 18 25c1.644 0 3.153-.571 4.348-1.52zm-2.082-4.347l3.215 3.215C24.429 21.153 25 19.644 25 18c0-1.644-.571-3.153-1.52-4.347l-3.215 3.215c-.624.626-.624 1.639.001 2.265zm-1.133-3.399l3.215-3.214C21.153 11.571 19.644 11 18 11c-1.644 0-3.153.571-4.347 1.52l3.215 3.214c.625.626 1.639.626 2.265 0z", {["d"]: "M15.734 16.868l-3.214-3.215C11.571 14.848 11 16.356 11 18c0 1.644.571 3.153 1.52 4.347l3.214-3.214c.626-.626.626-1.639 0-2.265zm6.614 6.612l-3.215-3.215c-.625-.624-1.64-.624-2.266 0l-3.215 3.215C14.847 24.429 16.356 25 18 25c1.644 0 3.153-.571 4.348-1.52zm-2.082-4.347l3.215 3.215C24.429 21.153 25 19.644 25 18c0-1.644-.571-3.153-1.52-4.347l-3.215 3.215c-.624.626-.624 1.639.001 2.265zm-1.133-3.399l3.215-3.214C21.153 11.571 19.644 11 18 11c-1.644 0-3.153.571-4.347 1.52l3.215 3.214c.625.626 1.639.626 2.265 0z",["fill"]: "#3B88C3",}));el.appendChild(svg["circle"](18, 18, 10, {["cy"]: "18",["r"]: "5",["fill"]: "#BBDDF5",["cx"]: "18",}));
				proto = el;
			}
		},
	};
	delete new_props.options;

	return h("svg", new_props);
};